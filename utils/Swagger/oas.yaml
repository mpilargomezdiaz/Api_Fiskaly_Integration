openapi: 3.0.3
servers:
  - url: 'https://test.es.sign.fiskaly.com/api/v1'
    description: |
      Entorno de prueba (Test)
  - url: 'https://live.es.sign.fiskaly.com/api/v1'
    description: |
      Entorno de producción (Live)
info:
  version: '1.13.0'
  title: fiskaly SIGN ES
  contact:
    email: 'info@fiskaly.com'
    name: 'Contacto'
    url: 'https://www.fiskaly.com/es'
  description: |
    Información Legal: [fiskaly.com/impressum](https://www.fiskaly.com/es/aviso-legal)
    <br>
    Política de Privacidad: [fiskaly.com/datenschutz](https://www.fiskaly.com/es/privacy-policy)
    <br>
    Solución: [fiskaly.com/signes](https://www.fiskaly.com/es/signes)
    <br>
    Guía para Desarrolladores: [developer.fiskaly.com/es/sign-es](https://developer.fiskaly.com/es/sign-es/introduccion)

    # Introducción

    **SIGN ES**, la [solución](https://www.fiskaly.com/es/signes) de fiskaly, ofrece una [RESTful](https://es.wikipedia.org/wiki/Transferencia_de_Estado_Representacional) API que asegura el cumplimiento con las normativas fiscales españolas como **TicketBAI** y **Verifactu**.

    **SIGN ES** proporciona un entorno de prueba para fines de integración y pruebas, así como un entorno de producción dedicado para realizar el envío de transacciones oficiales (facturas). Para acceder al entorno de producción, [contacta con nuestro equipo de ventas](mailto:sales@fiskaly.com).

    **SIGN ES** es una solución independiente de plataforma y puramente software. Dado que esta es una API basada en la nube, lo único que necesitas para integrar **SIGN ES** es una conexión estable a internet. La API ...

    - tiene URLs orientadas a recursos,
    - acepta cuerpos de solicitud codificados en [JSON](https://es.wikipedia.org/wiki/JSON),
    - devuelve respuestas codificadas en [JSON](https://es.wikipedia.org/wiki/JSON),
    - usa verbos y códigos de estado HTTP estándar, y  
    - está diseñada para ser fácilmente integrada en cualquier sistema.

    Con la información de cumplimiento proporcionada en los datos de respuesta de la [API Facturas](#tag/Facturas) **SIGN ES**, el proceso de cumplimiento fiscal se puede completar utilizando nuestra [API Ticket Digital](https://developer.fiskaly.com/es/sign-es/digital_receipt), ecológica y ganadora de varios premios, que permite la creación de un recibo en formato electrónico. 

    La [API Ticket Digital](https://developer.fiskaly.com/es/sign-es/digital_receipt) facilita la emisión de recibos para todas las soluciones de fiskaly **SIGN**.
    Un ejemplo de integración y el resultado de un ticket para **SIGN ES** se muestra en la siguiente imagen. Para obtener más información sobre la [API Ticket Digital](https://developer.fiskaly.com/es/sign-es/digital_receipt), ponte en contacto con [nuestro equipo de ventas](mailto:sales@fiskaly.com).
    <center>
      <a href="https://developer.fiskaly.com/es/sign-es/digital_receipt"> 
        <img style="width: 300px;" src="https://live.es.sign.fiskaly.com/api/v1/es/assets/digital_receipt.png" />
      </a>
    </center>

    ## Sobre TicketBAI y Verifactu
    **SIGN ES** implementa los requisitos legales y las directrices técnicas para cumplir con la fiscalización de los softwares TPV en España.

    La API SIGN ES de fiskaly cumple con los requisitos técnicos de las normativas fiscales en España: **TicketBAI** en la Región del País Vasco, y la Ley Antifraude y regulación **Verifactu** para el resto de España.
    - **Verifactu** en [España](https://www.fiskaly.com/es/signes/verifactu):

      Real Decreto 1007/2023, de 5 de diciembre, por el que se aprueba el reglamento que establece los requisitos que deben adoptar los sistemas y programas informáticos o electrónicos con capacidad de facturación de empresarios y profesionales, así como la estandarización de los formatos de los registros de facturación
      
      Orden Ministerial HAC/1177/2024, de 17 de octubre, publicada el 28 de octubre, por la que se establecen las especificaciones técnicas, funcionales y de contenido para los Sistemas Informáticos de Facturación.
      <br>


    - **TicketBAI** en [Álava](https://web.araba.eus/es/hacienda/ticketbai):


      Decreto Foral 48/2021, del Consejo del Gobierno Foral de 5 de octubre. Aprobar el Reglamento por el que se desarrolla la obligación TicketBAI.


      Orden Foral 802/2021, de la Primera Teniente de Diputado General y Diputada Foral de Hacienda,Finanzas y Presupuestos, de 27 de diciembre. Regulación de las especificaciones técnicas y funcionales del software TicketBAI y de la declaración de alta en el Registro de Software TicketBAI.
      <br>


    - **TicketBAI** en [Vizcaya](https://www.batuz.eus/es/inicio):

      Norma Foral 5/2020, de 15 de julio, por la que se establece un sistema integral de control de los rendimientos de las actividades económicas, así como medidas para facilitar el cumplimiento de las obligaciones tributarias, mediante la modificación de la Norma Foral del Impuesto sobre Sociedades, la Norma Foral del Impuesto sobre la Renta de no Residentes, la Norma Foral del Impuesto sobre la Renta de las Personas Físicas, la Norma Foral del Impuesto sobre Patrimonio y la Norma Foral General Tributaria del Territorio Histórico de Bizkaia.

      Orden Foral 1482/2020, de 9 de septiembre, del diputado foral de Hacienda y Finanzas, por la que se regulan las especificaciones normativas y técnicas del software garante y la declaración de alta en el registro de software garante.
      <br>



    - **TicketBAI** en [Guipúzcoa](https://www.gipuzkoa.eus/eu/web/ogasuna/ticketbai):


      Decreto Foral 32/2020, de 22 de diciembre, por el que se aprueba el Reglamento por el que se desarrolla la obligación TicketBAI.


      Orden Foral 521/2020, de 23 de diciembre, por la que se regulan las especificaciones técnicas y funcionales del software TicketBAI y la declaración de alta en el Registro de Software TicketBAI.


    ## Territorios
    España tiene un sistema fiscal complejo que consta de dos regímenes fiscales diferentes: el ordinario y el foral. Las regiones que pertenecen al régimen foral (País Vasco y Navarra) tienen derecho a desarrollar y aplicar su propia normativa fiscal. Algunos territorios como Canarias, Ceuta y Melilla, siguen un régimen fiscal especial, distinto del resto de la península.


    **SIGN ES** de fiskaly tiene en cuenta los requisitos particulares de los diferentes territorios españoles, anticipándose a posibles cambios entre las diferentes provincias de España, como el envío de registros de facturación a diferentes autoridades tributarias o el envío de información específica en cada provincia. 
    Es por ello que la API **SIGN ES** se divide acorde a los siguientes territorios:

    - **Álava**: indica que el contribuyente tiene domicilio fiscal en Álava en el País Vasco, debiendo cumplir los requisitos específicos de **TicketBAI** para esta provincia.

    - **Vizcaya**: indica que el contribuyente tiene domicilio fiscal en Vizcaya, en el País Vasco, y debe cumplir los requisitos específicos de **TicketBAI** y **BATUZ** para esta provincia.

    - **Guipúzcoa**: indica que el contribuyente tiene domicilio fiscal en Guipúzcoa, en el País Vasco, y debe cumplir los requisitos específicos de **TicketBAI** para esta provincia.

    - **Navarra**: indica que el contribuyente tiene domicilio fiscal en la Comunidad Foral de Navarra y debe cumplir los requisitos específicos de esta provincia.

    - **Otros Territorios de España**: indica que el contribuyente tiene domicilio fiscal en cualquier otra comunidad autónoma de España y debe cumplir los requisitos específicos de la legislación **Verifactu**.
      Se consideran las siguientes provincias: Andalucía, Aragón, Principado de Asturias, Cantabria, Castilla-La Mancha, Castilla y León, Cataluña, Extremadura, Galicia, Baleares, La Rioja, Comunidad de Madrid, Región de Murcia y Comunidad Valenciana.

    - **Islas Canarias**: indica que el contribuyente tiene domicilio fiscal en las Islas Canarias y debe cumplir los requisitos específicos de esta provincia.

    - **Ceuta**: indica que el contribuyente tiene domicilio fiscal en la ciudad autónoma de Ceuta y debe cumplir los requisitos legales específicos.

    - **Melilla**: indica que el contribuyente tiene su domicilio fiscal en la ciudad autónoma de Melilla y debe cumplir los requisitos legales específicos.


    # Solución

    El [solución](https://www.fiskaly.com/es/signes) fiskaly **SIGN ES** proporciona una implementación 100% conforme con **TicketBAI** y **Verifactu**, generando firmas digitales para cada operación de facturación. **SIGN ES** ya es un [software garante TicketBAI](https://www.fiskaly.com/es/certificados-partners) registrado en las provincias vascas.

    Todos los servicios relacionados con SIGN ES son operados por fiskaly a través de la plataforma Google Cloud Platform en el centro de datos situado en Madrid (`europe-southwest1`).

    ## Guías

    Si es la primera vez que implementas una de las soluciones **SIGN** de fiskaly, te recomendamos que primero eches un vistazo a nuestra [guía para nuevos clientes](https://developer.fiskaly.com/es/sign-es/guide_new_customers) donde encontrarás una explicación de cómo crear organizaciones y claves API, así como una visión general de los endpoints de la API **SIGN ES**.

    Si ya has implementado nuestra API **SIGN DE**, hemos preparado una guía de integración para [clientes de SIGN DE](https://developer.fiskaly.com/es/sign-es/guide_signde_customers) donde te explicamos las similitudes y diferencias entre los distintos endpoints en comparación con **SIGN ES**.


    ## Cambios

    La lista actualizada de cambios está también disponible en formatos de suscripción: [RSS](https://live.es.sign.fiskaly.com/api/v1/es/changelog/rss), [Atom](https://live.es.sign.fiskaly.com/api/v1/es/changelog/atom), and [JSON](https://live.es.sign.fiskaly.com/api/v1/es/changelog/feed).

    
    <div class="paginated-section">
    <div class="page active">
    <br />

    <h3 id="section/Producto/Cambios/1.13.0"><a class="sc-crHmcD ldbzSJ" href="#section/Producto/Cambios/1.13.0" aria-label="section/Producto/Cambios/1.13.0">1.13.0 </a> [2025-02-20] Envíos Verifactu</h3>

    <nil>

    <ul>
    <li>habilitada la emisión de facturas a los servicios de prueba de la AEAT para los territorios <code>Verifactu</code></li>
    <li>habilitados los territorios fiscales <code>Ceuta</code>, <code>Melilla</code> y <code>Canarias</code></li>
    <li>añadida funcionalidad de subsanación para <code>Verifactu</code></li>
    <li>añadido un punto final para permitir la deshabilitación permanente de un contribuyente</li>
    <li>mejoras internas en la generación de xml</li>
    </ul>
    
    <br />

    <h3 id="section/Producto/Cambios/1.12.1"><a class="sc-crHmcD ldbzSJ" href="#section/Producto/Cambios/1.12.1" aria-label="section/Producto/Cambios/1.12.1">1.12.1 </a> [2025-02-03] Facturas rectificativas con destinatarios internacionales</h3>

    <nil>

    <ul>
    <li>corrección en la generación del ID para destinatarios internacionales en facturas rectificativas (<code>REMEDY</code>)</li>
    </ul>
    
    <br />

    <h3 id="section/Producto/Cambios/1.12.0"><a class="sc-crHmcD ldbzSJ" href="#section/Producto/Cambios/1.12.0" aria-label="section/Producto/Cambios/1.12.0">1.12.0 </a> [2025-01-20] Mejoras en las facturas de subsanación</h3>

    <nil>

    <ul>
    <li>mejoras en la funcionalidad de subsanacion en <code>Bizkaia</code>:
    <ul>
    <li>habilitada la cancelación de subsanaciones</li>
    <li>subsanación de facturas offline a través del uso de facturas <code>EXTERNAL</code></li>
    <li>subsanación de subsanaciones fallidas en estado <code>REQUIRES_INSPECTION</code></li>
    </ul>
    </li>
    <li>corrección en la generación de tipos <code>NON_TAXABLE</code> de TicketBAI</li>
    <li>corrección en la generación de fechas de emisión de facturas de canje <code>ENRICHMENT</code></li>
    <li>mejora en el gestionamiento interno de certificados</li>
    </ul>
    
    </div>
    <div class="page">
    
    <br />

    <h3 id="section/Producto/Cambios/1.11.1"><a class="sc-crHmcD ldbzSJ" href="#section/Producto/Cambios/1.11.1" aria-label="section/Producto/Cambios/1.11.1">1.11.1 </a> [2024-12-11] Mejoras internas</h3>

    <nil>

    <ul>
    <li>Mejoras en la transmisión de archivos de anulación XML</li>
    </ul>
    
    <br />

    <h3 id="section/Producto/Cambios/1.11.0"><a class="sc-crHmcD ldbzSJ" href="#section/Producto/Cambios/1.11.0" aria-label="section/Producto/Cambios/1.11.0">1.11.0 </a> [2024-12-04] Tipos de Impuesto y Preparación de la API para Verifactu</h3>

    <nil>

    <ul>
    <li>agregado el campo opcional <code>vat_type</code>, que está disponible en el esquema de API <code>InvoiceItem</code></li>
    <li>agregado el campo opcional <code>responsibility_declaration</code>, que está disponible en el esquema de API <code>Software</code></li>
    <li>mejoras en la generacion de facturas Verifactu</li>
    <li>mejoras en la documentación de la API en preparación de Verifactu</li>
    </ul>
    
    <br />

    <h3 id="section/Producto/Cambios/1.10.0"><a class="sc-crHmcD ldbzSJ" href="#section/Producto/Cambios/1.10.0" aria-label="section/Producto/Cambios/1.10.0">1.10.0 </a> [2024-11-18] Facturas de subsanación para Vizcaya</h3>

    <nil>

    <ul>
    <li>habilitada la funcionalidad de subsanación para el territorio de Vizcaya</li>
    <li>mejoras en los validaciones internas y creación de registros XML</li>
    </ul>
    
    </div>
    <div class="page">
    
    <br />

    <h3 id="section/Producto/Cambios/1.9.0"><a class="sc-crHmcD ldbzSJ" href="#section/Producto/Cambios/1.9.0" aria-label="section/Producto/Cambios/1.9.0">1.9.0 </a> [2024-10-25] Facturas de subsanación</h3>

    <nil>

    <ul>
    <li>habilitada la funcionalidad de subsanación para lot territorios Araba y Gipuzkoa</li>
    <li>mejoras en la creación y transmisión de registros XML</li>
    </ul>
    
    <br />

    <h3 id="section/Producto/Cambios/1.8.2"><a class="sc-crHmcD ldbzSJ" href="#section/Producto/Cambios/1.8.2" aria-label="section/Producto/Cambios/1.8.2">1.8.2 </a> [2024-09-19] Descuentos en líneas de factura</h3>

    <nil>

    <ul>
    <li>mejoras en la creación de archivos Ticketbai XML relacionadas con el valor de descuento por línea de factura</li>
    </ul>
    
    <br />

    <h3 id="section/Producto/Cambios/1.8.1"><a class="sc-crHmcD ldbzSJ" href="#section/Producto/Cambios/1.8.1" aria-label="section/Producto/Cambios/1.8.1">1.8.1 </a> [2024-09-12] Mejoras internas</h3>

    <nil>

    <ul>
    <li>mejoaras en la creación de las URL de validación</li>
    <li>mejoras en el manejo de facturas de canje</li>
    <li>mejoras en la creación de clientes</li>
    </ul>
    
    </div>
    <div class="page">
    
    <br />

    <h3 id="section/Producto/Cambios/1.8.0"><a class="sc-crHmcD ldbzSJ" href="#section/Producto/Cambios/1.8.0" aria-label="section/Producto/Cambios/1.8.0">1.8.0 </a> [2024-08-13] Reenvío de facturas</h3>

    <nil>

    <ul>
    <li>habilitada la retransmisión de facturas a través de la funcionalidad <code>REMEDY</code> en <code>Bizkaia</code>, que se puede utilizar en caso de errores de transmisión debido a un certificado no registrado o para actualizar una <code>IndividualAnnotation</code> configurada incorrectamente.</li>
    <li>corrección en la codificación de las URL de validación que en ciertos casos resultaban en URL inválidas</li>
    <li>mejoras en la transmisión de XML TicketBAI en escenarios de alta carga</li>
    </ul>
    
    <br />

    <h3 id="section/Producto/Cambios/1.7.2"><a class="sc-crHmcD ldbzSJ" href="#section/Producto/Cambios/1.7.2" aria-label="section/Producto/Cambios/1.7.2">1.7.2 </a> [2024-07-18] Mejoras internas</h3>

    <nil>

    <ul>
    <li>mejoras en el manejo de transmisión interna</li>
    <li>mejoras en la respuesta del punto final <code>software</code></li>
    </ul>
    
    <br />

    <h3 id="section/Producto/Cambios/1.7.1"><a class="sc-crHmcD ldbzSJ" href="#section/Producto/Cambios/1.7.1" aria-label="section/Producto/Cambios/1.7.1">1.7.1 </a> [2024-06-25] API and Transmission</h3>

    <nil>

    <ul>
    <li>Mejora de la creación y transmisión XML de TicketBAI hacia <code>Bizkaia</code></li>
    </ul>
    
    </div>
    <div class="page">
    
    <br />

    <h3 id="section/Producto/Cambios/1.7.0"><a class="sc-crHmcD ldbzSJ" href="#section/Producto/Cambios/1.7.0" aria-label="section/Producto/Cambios/1.7.0">1.7.0 </a> [2024-06-04] Verifactu API</h3>

    <nil>

    <ul>
    <li>agrega el campo <code>Coupon</code> al esquema de la API para facturas rectificativas, que se puede emplear para rectificar facturas simplificadas, o facturas completas de tipo <code>CORRECTION_1</code>, en <code>BIZKAIA</code> y los territorios donde aplique <code>Verifactu</code></li>
    <li>agrega la anotación <code>Incident</code>, que permite indicar incidentes técnicos durante la emisión de la factura</li>
    <li>habilita la creación de contribuyentes del territorio <code>SPAIN_OTHER</code>, para permitir la creación de contribuyentes que entran dentro del marco legislativo de <code>Verifactu</code> en los entornos de pruebas</li>
    <li>habilita la creación de facturas para los contribuyentes dentro del marco legislativo de <code>Verifactu</code> en los entornos de pruebas</li>
    <li>mejoras en la transmisión del fichero XML de TicketBAI hacia los servidores de la hacienda foral territorial</li>
    </ul>
    
    <br />

    <h3 id="section/Producto/Cambios/1.6.0"><a class="sc-crHmcD ldbzSJ" href="#section/Producto/Cambios/1.6.0" aria-label="section/Producto/Cambios/1.6.0">1.6.0 </a> [2024-04-11] Envío de Batuz para particulares</h3>

    <nil>

    <ul>
    <li>agrega anotaciones <code>Annotations</code> al esquema de la API, permitiendo añadir a una factura información específica de la provincia o legislación aplicable</li>
    <li>incluye la funcionalidad de transmisión de facturas para personas físicas a través de <code>IndividualAnnotation</code>, que se puede agregar al emitir la factura por primera vez o más tarde a través de <code>PATCH</code></li>
    <li>agrega el campo <code>vat_withholding</code>, disponible en el esquema API <code>CompleteInvoice</code></li>
    <li>mejora la transmisión del fichero XML de TicketBAI hacia los servidores de la hacienda foral territorial</li>
    </ul>
    
    <br />

    <h3 id="section/Producto/Cambios/1.5.6"><a class="sc-crHmcD ldbzSJ" href="#section/Producto/Cambios/1.5.6" aria-label="section/Producto/Cambios/1.5.6">1.5.6 </a> [2024-03-21] Texto de la factura</h3>

    <nil>

    <ul>
    <li>se ha añadido el caracter dos puntos (<code>:</code>) para el esquema de la API <code>InvoiceText</code> y <code>ExtendedSpecialAlphaNumerical250</code>, que se utiliza en el esquema de la API <code>SimplifiedInvoice</code>, así como en <code>InvoiceItem</code> y que permite expresar textos descriptivos utilizando dos puntos</li>
    <li>mejora de la transmisión TicketBAI XML a los servidores de las haciendas forales</li>
    </ul>
    
    </div>
    <div class="page">
    
    <br />

    <h3 id="section/Producto/Cambios/1.5.5"><a class="sc-crHmcD ldbzSJ" href="#section/Producto/Cambios/1.5.5" aria-label="section/Producto/Cambios/1.5.5">1.5.5 </a> [2024-02-29] Facturación</h3>

    <nil>

    <ul>
    <li>añadido <code>NON_TAXABLE_4</code> para el esquema API <code>NotTaxableCause</code> para crear facturas de ventas realizadas por cuenta de terceros</li>
    </ul>
    
    <br />

    <h3 id="section/Producto/Cambios/1.5.4"><a class="sc-crHmcD ldbzSJ" href="#section/Producto/Cambios/1.5.4" aria-label="section/Producto/Cambios/1.5.4">1.5.4 </a> [2024-02-14] Referencia de facturas externas</h3>

    <nil>

    <ul>
    <li>añadido el tipo de factura <code>EXTERNAL</code> para la operación API <code>createInvoice</code> para representar y referenciar facturas en SIGN ES que fueron emitidas fuera de los límites del sistema SIGN ES</li>
    <li>descripción actualizada de <code>CONCEPT</code> en la documentación de la API</li>
    </ul>
    
    <br />

    <h3 id="section/Producto/Cambios/1.5.3"><a class="sc-crHmcD ldbzSJ" href="#section/Producto/Cambios/1.5.3" aria-label="section/Producto/Cambios/1.5.3">1.5.3 </a> [2024-01-30] Transmisión LROE</h3>

    <nil>

    <ul>
    <li>ha facilitado la integración de los archivos XML TicketBAI en los registros XML del capítulo 1.1 de BATUZ/LROE para el territorio de contribuyentes <code>BIZKAIA</code></li>
    <li>la creación y el envío de los registros LROE ya están activados en el entorno de producción <code>TEST</code></li>
    <li>la creación y envío de registros LROE se activará automáticamente para el entorno de producción <code>LIVE</code> el 2024-02-01 00:00:00 UTC+1</li>
    <li>cambio de nombre del esquema API <code>TicketbaiCommunication</code> a <code>InvoiceExportCommunication</code></li>
    <li>renombrado el esquema API <code>TicketbaiXML</code> a <code>TransmissionFile</code></li>
    <li>actualización de la documentación de la API en español</li>
    </ul>
    
    </div>
    <div class="page">
    
    <br />

    <h3 id="section/Producto/Cambios/1.5.2"><a class="sc-crHmcD ldbzSJ" href="#section/Producto/Cambios/1.5.2" aria-label="section/Producto/Cambios/1.5.2">1.5.2 </a> [2024-01-10] TicketBAI y Contribuyente</h3>

    <nil>

    <ul>
    <li>habilitado el registro de facturas <code>TicketBAI</code> y la creación y envío de archivos XML de cancelación en la versión <code>v1.2.2</code> en el sistema <code>LIVE</code> de producción</li>
    <li>se ha mejorado la respuesta de la API <code>Taxpayer</code>, ahora proporciona la información del <code>type</code> (tipo) de contribuyente. Cuyo valor puede ser <code>COMPANY</code> (empresa) o <code>INDIVIDUAL</code> (particular), la distinción esta basada en número de identificación fiscal</li>
    <li>proporciona un esquema de API tipificado para la petición <code>TaxpayerCreateRequest</code></li>
    <li>mejoras en el patrón regex del tipo <code>TaxNumber</code></li>
    </ul>
    
    <br />

    <h3 id="section/Producto/Cambios/1.5.1"><a class="sc-crHmcD ldbzSJ" href="#section/Producto/Cambios/1.5.1" aria-label="section/Producto/Cambios/1.5.1">1.5.1 </a> [2023-12-30] Firma TicketBAI</h3>

    <nil>

    <ul>
    <li>actualizada la política de firma <code>BIZKAIA</code> a <code>v1.1</code></li>
    <li>mejorado el proceso de firma <code>XAdES-EPES</code> y la creación de firmas</li>
    <li>soporte de caractéres ordinales masculinos en los esquemas API <code>ExtendedAlphaNumerical120</code>, <code>ExtendedAlphaNumerical250</code> y <code>ExtendedSpecialAlphaNumerical250</code></li>
    <li>aumento de la precisión de los decimales hasta 8 dígitos en los esquemas de API <code>InvoiceItemUnitAmount</code>, <code>InvoiceItemFullAmount</code>, <code>InvoiceItemDiscount</code> y <code>InvoiceQuantity</code></li>
    </ul>
    
    <br />

    <h3 id="section/Producto/Cambios/1.5.0"><a class="sc-crHmcD ldbzSJ" href="#section/Producto/Cambios/1.5.0" aria-label="section/Producto/Cambios/1.5.0">1.5.0 </a> [2023-12-22] TicketBAI v1.2.2</h3>

    <nil>

    <ul>
    <li>proporciona registro, cancelación y transmisión de facturas <code>TicketBAI</code> versión <code>v1.2.2</code></li>
    <li>habilita la nueva versión, por ahora solo en el sistema de producción <code>TEST</code></li>
    <li>introduce una nueva causa de no sujeción <code>NON_TAXABLE_3</code></li>
    </ul>
    
    </div>
    <div class="page">
    
    <br />

    <h3 id="section/Producto/Cambios/1.4.4"><a class="sc-crHmcD ldbzSJ" href="#section/Producto/Cambios/1.4.4" aria-label="section/Producto/Cambios/1.4.4">1.4.4 </a> [2023-11-30] Exportaciones en el dashboard</h3>

    <nil>

    <ul>
    <li>proporciona integración con la funcionalidad de exportación en el <a href="https://dashboard.fiskaly.com">panel de control</a> de fiskaly</li>
    <li>mejoras en la transmisión de XML a los servicios de la autoridad tributaria.</li>
    </ul>
    
    <br />

    <h3 id="section/Producto/Cambios/1.4.3"><a class="sc-crHmcD ldbzSJ" href="#section/Producto/Cambios/1.4.3" aria-label="section/Producto/Cambios/1.4.3">1.4.3 </a> [2023-11-24] Localización del producto</h3>

    <nil>

    <ul>
    <li>proporciona traducciones al Español de la especificación de OpenAPI.</li>
    <li>añade localización dentro de la <a href="https://developer.fiskaly.com/es/api/sign-es/v1">guía para desarrolladores</a>.</li>
    <li>mejoras en la transmisión de XML a los servicios de la autoridad tributaria.</li>
    </ul>
    
    <br />

    <h3 id="section/Producto/Cambios/1.4.2"><a class="sc-crHmcD ldbzSJ" href="#section/Producto/Cambios/1.4.2" aria-label="section/Producto/Cambios/1.4.2">1.4.2 </a> [2023-11-17] Facturación y Transmisión</h3>

    <nil>

    <ul>
    <li>actualizado el calculo de desglose de factura para destinatarios internacionales dentro de la operación <code>createInvoice</code></li>
    <li>mejoras en la transmisión de XML a los servicios de la autoridad tributaria.</li>
    </ul>
    
    </div>
    <div class="page">
    
    <br />

    <h3 id="section/Producto/Cambios/1.4.1"><a class="sc-crHmcD ldbzSJ" href="#section/Producto/Cambios/1.4.1" aria-label="section/Producto/Cambios/1.4.1">1.4.1 </a> [2023-11-10] Preparación Verifactu</h3>

    <nil>

    <ul>
    <li>proporciona las regiones para Verifactu en el enumerador de territorios <code>Territory</code></li>
    <li>proporciona el esquema <code>VerifactuInvoiceCompliance</code> para el esquema de respuesta API <code>SignedInvoice</code> para los territorios donde aplique Verifactu</li>
    </ul>
    
    <br />

    <h3 id="section/Producto/Cambios/1.4.0"><a class="sc-crHmcD ldbzSJ" href="#section/Producto/Cambios/1.4.0" aria-label="section/Producto/Cambios/1.4.0">1.4.0 </a> [2023-10-30] Funcionalidad de exportación</h3>

    <nil>

    <ul>
    <li>proporciona la funcionalidad de creación de recurso de exportaciones de facturas (<code>Exports</code>) para crear exportaciones de forma asíncrona de archivos ZIP que incluyen múltiples facturas</li>
    <li>habilitadas las operaciones <code>createExport</code>, <code>updateExport</code>, <code>retrieveExport</code>, <code>listExport</code>, y <code>downloadExport</code></li>
    <li>actualiza la documentación de tipos de factura en el recurso <code>Invoice</code></li>
    <li>añade el esquema <code>InvoiceAdditionalVat</code> y la funcionalidad para expedir facturas con recargo de equivalencia</li>
    </ul>
    
    <br />

    <h3 id="section/Producto/Cambios/1.3.2"><a class="sc-crHmcD ldbzSJ" href="#section/Producto/Cambios/1.3.2" aria-label="section/Producto/Cambios/1.3.2">1.3.2 </a> [2023-10-11] Facturas de canje</h3>

    <nil>

    <ul>
    <li>habilitada la funcionalidad <code>ENRICHMENT</code> que permite realizar cambios sobre facturas ordinarias para incluir datos de destinatario</li>
    <li>proporciona el esquema API <code>EnrichmentInvoice</code> para la operación <code>createInvoice</code></li>
    <li>actualiza la descripción del campo de IVA <code>rate</code> para documentar el uso del tipo <code>InvoicePercentage</code> dentro del esquema <code>InvoiceWithVatCategory</code></li>
    <li>proporciona el error de respuesta de API <code>400</code> para los esquemas:  <code>TaxpayerResponse</code>, <code>SingerResponse</code>,  <code>SignersResponse</code>,  <code>ClientResponse</code>,  <code>ClientsResponse</code>,  <code>InvoiceResponse</code>,  <code>InvoicesResponse</code>,  <code>ExportResponse</code>, y <code>SoftwareResponse</code>.</li>
    </ul>
    
    </div>
    <div class="page">
    
    <br />

    <h3 id="section/Producto/Cambios/1.3.1"><a class="sc-crHmcD ldbzSJ" href="#section/Producto/Cambios/1.3.1" aria-label="section/Producto/Cambios/1.3.1">1.3.1 </a> [2023-09-29] Transmisión de facturas</h3>

    <nil>

    <ul>
    <li>mejoras en la transmisión de facturas <code>Invoices</code> a los servicios de la autoridad tributaria.</li>
    <li>mejoras de rendimiento en la operación <code>exportInvoice</code> de la API que proporciona el XML de registro.</li>
    </ul>
    
    <br />

    <h3 id="section/Producto/Cambios/1.3.0"><a class="sc-crHmcD ldbzSJ" href="#section/Producto/Cambios/1.3.0" aria-label="section/Producto/Cambios/1.3.0">1.3.0 </a> [2023-09-22] Certificados externos</h3>

    <nil>

    <ul>
    <li>habilitado el soporte de certificados de dispositivo externos en <code>updateSigner</code></li>
    <li>actualización del esquema de petición <code>Certificate</code> de la operación <code>updateSigner</code></li>
    <li>mejoras en el esquema de respuesta <code>SignedInvoice</code> dentro de las operaciones de API <code>Invoices</code>. Ahora incluyen la información <code>InvoiceSigner</code> e <code>InvoiceClient</code></li>
    <li>proporcionadas nuevas secciones en la guía para desarrolladores con información sobre la creación de certificados de dispositivo externos</li>
    </ul>
    
    <br />

    <h3 id="section/Producto/Cambios/1.2.1"><a class="sc-crHmcD ldbzSJ" href="#section/Producto/Cambios/1.2.1" aria-label="section/Producto/Cambios/1.2.1">1.2.1 </a> [2023-09-01] Facturación y paginación</h3>

    <nil>

    <ul>
    <li>cambios en el comportamiento de validación en <code>createInvoice</code> que ahora devuelve directamente los errores de validación de forma inmediata en la respuesta de la API <code>SignedInvoice</code> dentro del campo <code>validations</code></li>
    <li>mejoras en el rendimiento de firma dentro de la operación <code>createInvoice</code></li>
    <li>mejoras en el patron regex de <code>TicketbaiInvoiceIdentifier</code> para permitir mayor número de caracteres alfa-numéricos y caracteres especiales</li>
    <li>proporciona la funcionalidad de paginación <code>Pagination</code> para todos los endpoints de listado, permitiendo la visualización en páginas a través de un sistema basado en token de búsqueda</li>
    </ul>
    
    </div>
    <div class="page">
    
    <br />

    <h3 id="section/Producto/Cambios/1.2.0"><a class="sc-crHmcD ldbzSJ" href="#section/Producto/Cambios/1.2.0" aria-label="section/Producto/Cambios/1.2.0">1.2.0 </a> [2023-08-23] Búsqueda y listado de facturas</h3>

    <nil>

    <ul>
    <li>se habilita la funcionalidad de rectificación por diferencias en la operación <code>createInvoice</code></li>
    <li>se actualiza la enumeración <code>ValidationError</code> en la documentación de la API junto con los códigos y descripciones</li>
    <li>se proporciona la operacion <code>searchInvoices</code> en la API para realizar búsquedas de facturas de un contribuyente, con parámetros de consulta opcionales: numero de factura, serie de factura, y rango de tiempo de expedición</li>
    <li>se mejora el manejo de peticiones sobre el recurso <code>Invoices</code> de forma concurrente</li>
    <li>cambios en los esquemas de las respuestas de las operaciones <code>listSigners</code>, <code>listClients</code>, and <code>listInvoices</code>. Ahora devuelven una lista de <code>results</code> que contienen esquemas del recurso correspondiente que incluye el <code>content</code> y <code>metadata</code></li>
    </ul>
    
    <br />

    <h3 id="section/Producto/Cambios/1.1.1"><a class="sc-crHmcD ldbzSJ" href="#section/Producto/Cambios/1.1.1" aria-label="section/Producto/Cambios/1.1.1">1.1.1 </a> [2023-08-04] Validación de facturas y metadatos</h3>

    <nil>

    <ul>
    <li>se proporciona la validación de facturas (<code>Invoices</code>) con error HTTP <code>422</code> para peticiones con facturas no válidas. En la respuesta se incluye el esquema <code>ValidationError</code> que incluye el código de error y descripción.</li>
    <li>se proporcionan errores de transmisión a través de la API en la respuesta <code>SignedInvoice</code> dentro del campo <code>validations</code> del esquema</li>
    <li>se actualiza la petición <code>createInvoice</code> de la API para permitir de forma opcional el campo <code>issued_at</code> que especifica la fecha de expedición de la factura</li>
    <li>se actualiza la petición <code>createInvoice</code> de la API para permitir de forma opcional el campo <code>transaction_date</code> que especifica la fecha de operació.</li>
    <li>se proporciona el régimen de exportación para <code>Invoice</code> junto con las causas de exención</li>
    <li>mejoras en la funcionalidad del endpoint <code>Invoices</code> y habilitada la funcionalidad de <code>Metadata</code></li>
    <li>mejoras en la funcionalidad del endpoint <code>Clients</code> y habilitada la funcionalidad de <code>Metadata</code></li>
    <li>mejoras la funcionalidad del endpoint <code>Signers</code> y habilitada la funcionalidad de <code>Metadata</code></li>
    <li>mejoras en la funcionalidad del endpoint <code>Taxpayer</code> y habilitada la funcionalidad de <code>Metadata</code></li>
    </ul>
    
    <br />

    <h3 id="section/Producto/Cambios/1.1.0"><a class="sc-crHmcD ldbzSJ" href="#section/Producto/Cambios/1.1.0" aria-label="section/Producto/Cambios/1.1.0">1.1.0 </a> [2023-06-23] Funcionalidad de factura completa</h3>

    <nil>

    <ul>
    <li>se habilita la funcionalidad del endpoint <code>Invoices</code> para gestionar el esquema de solicitud de la API <code>CompleteInvoice</code> para emitir facturas COMPLETAS (<code>COMPLETE</code>) que contengan información sobre el destinatario y proporcionen sistemas de IVA adicionales, categorías de IVA y el nuevo concepto económico para las operaciones nacionales e internacionales</li>
    <li>actualización de la funcionalidad del endpoint <code>Invoices</code> para gestionar el esquema de solicitud de la API <code>CorrectionInvoice</code> para realizar la RECTIFICACIÓN (<code>CORRECTION</code>) de facturas COMPLETAS (<code>COMPLETE</code>) a COMPLETAS (<code>COMPLETE</code>), así como la &quot;actualización&quot; de facturas SIMPLIFICADAS (<code>SIMPLIFIED</code>) a facturas COMPLETAS (<code>COMPLETE</code>)</li>
    <li>mejoras en el endpoint <code>Signers</code></li>
    </ul>
    
    </div>
    <div class="page">
    
    <br />

    <h3 id="section/Producto/Cambios/1.0.1"><a class="sc-crHmcD ldbzSJ" href="#section/Producto/Cambios/1.0.1" aria-label="section/Producto/Cambios/1.0.1">1.0.1 </a> [2023-06-16] Esquema de factura completa</h3>

    <nil>

    <ul>
    <li>refinado del esquema de solicitud de la API <code>CompleteInvoice</code> con la estructura <code>Recipients</code> para incluir la información del destinatario nacional e internacional de la factura</li>
    <li>esquema de la API <code>InvoiceItem</code> ampliado con una nueva abstracción opcional de concepto económico (<code>Concept</code>)</li>
    <li>mejora de la funcionalidad del endpoint <code>Authentication</code> para los tokens de entorno <code>LIVE</code></li>
    <li>se ha actualizado la funcionalidad del endpoint <code>Taxpayer</code> para que los cambios de información sólo se permitan cuando no existan recursos HABILITADOS (<code>ENABLED</code>)</li>
    </ul>
    
    <br />

    <h3 id="section/Producto/Cambios/1.0.0"><a class="sc-crHmcD ldbzSJ" href="#section/Producto/Cambios/1.0.0" aria-label="section/Producto/Cambios/1.0.0">1.0.0 </a> [2023-06-14] Entorno de producción habilitado</h3>

    <nil>

    <ul>
    <li>habilitado el entorno de producción <code>live.es.sign.fiskaly.com</code></li>
    <li>habilitada la funcionalidad de endpoint <code>Software</code> para la verificación presencial</li>
    <li>mejoras en la documentación de la API y de las descripciones de los campos</li>
    </ul>
    
    <br />

    <h3 id="section/Producto/Cambios/0.15.0"><a class="sc-crHmcD ldbzSJ" href="#section/Producto/Cambios/0.15.0" aria-label="section/Producto/Cambios/0.15.0">0.15.0 </a> [2023-06-11] Rectificación de facturas</h3>

    <nil>

    <ul>
    <li>habilitado el esquema y la funcionalidad de <code>CORRECTION</code> en <code>createInvoice</code></li>
    <li>actualizado el esquema de respuesta de la API de <code>Invoices</code></li>
    <li>mejora de la funcionalidad del endpoint <code>Invoices</code></li>
    </ul>
    
    </div>
    <div class="page">
    
    <br />

    <h3 id="section/Producto/Cambios/0.14.0"><a class="sc-crHmcD ldbzSJ" href="#section/Producto/Cambios/0.14.0" aria-label="section/Producto/Cambios/0.14.0">0.14.0 </a> [2023-06-02] Anulación de facturas</h3>

    <nil>

    <ul>
    <li>habilitada la funcionalidad de la API <code>updateInvoice</code></li>
    <li>actualizado el esquema de solicitud de la API <code>updateInvoice</code></li>
    <li>actualizado el esquema de respuesta del <code>Invoice</code></li>
    <li>mejora de la funcionalidad del endpoint <code>Invoices</code></li>
    </ul>
    
    <br />

    <h3 id="section/Producto/Cambios/0.13.0"><a class="sc-crHmcD ldbzSJ" href="#section/Producto/Cambios/0.13.0" aria-label="section/Producto/Cambios/0.13.0">0.13.0 </a> [2023-05-29] Entorno de pruebas habilitado</h3>

    <nil>

    <ul>
    <li>habilitado el entorno de pruebas de producción de <code>test.es.sign.fiskaly.com</code></li>
    <li>mejora de la funcionalidad de exportación del endpoint <code>Data Exports</code></li>
    <li>mejora de la funcionalidad de facturación del endpoint <code>Invoices</code></li>
    </ul>
    
    <br />

    <h3 id="section/Producto/Cambios/0.12.0"><a class="sc-crHmcD ldbzSJ" href="#section/Producto/Cambios/0.12.0" aria-label="section/Producto/Cambios/0.12.0">0.12.0 </a> [2023-05-26] Exportar facturas</h3>

    <nil>

    <ul>
    <li>habilitada la funcionalidad de exportación del endpoint <code>Data Exports</code></li>
    <li>mejora de la funcionalidad de facturación del endpoint <code>Invoices</code></li>
    <li>mejora de la funcionalidad de mantenimiento del endpoint <code>Signers</code></li>
    </ul>
    
    </div>
    <div class="page">
    
    <br />

    <h3 id="section/Producto/Cambios/0.11.2"><a class="sc-crHmcD ldbzSJ" href="#section/Producto/Cambios/0.11.2" aria-label="section/Producto/Cambios/0.11.2">0.11.2 </a> [2023-05-16] Funcionalidad de facturación</h3>

    <nil>

    <ul>
    <li>documentación actualizada del esquema de solicitud de <code>SimplifiedInvoice</code></li>
    <li>mejora de la funcionalidad de facturación del endpoint <code>Invoices</code></li>
    <li>mejora de las funciones de mantenimiento del endpoint <code>Clients</code></li>
    <li>mejora de la funcionalidad de mantenimiento del endpoint <code>Signers</code></li>
    </ul>
    
    <br />

    <h3 id="section/Producto/Cambios/0.11.1"><a class="sc-crHmcD ldbzSJ" href="#section/Producto/Cambios/0.11.1" aria-label="section/Producto/Cambios/0.11.1">0.11.1 </a> [2023-04-28] Colección Postman</h3>

    <nil>

    <ul>
    <li>integración con <code>Postman</code> para obtener la colección y el entorno de Postman</li>
    <li>funcionalidad actualizada del endpoint <code>Invoice</code></li>
    <li>se ha añadido la sección <code>Guía Rápida</code> a la documentación</li>
    <li>se ha añadido la sección PREGUNTAS FRECUENTES <code>FAQs</code> a la documentación</li>
    </ul>
    
    <br />

    <h3 id="section/Producto/Cambios/0.11.0"><a class="sc-crHmcD ldbzSJ" href="#section/Producto/Cambios/0.11.0" aria-label="section/Producto/Cambios/0.11.0">0.11.0 </a> [2023-04-23] Factura simplificada</h3>

    <nil>

    <ul>
    <li>habilitada la funcionalidad <code>createInvoice</code> de la API</li>
    <li>habilitada la funcionalidad <code>retrieveInvoice</code> de la API</li>
    <li>habilitada la funcionalidad <code>listInvoices</code> de la API</li>
    <li>actualizado el esquema de solicitud de FACTURA SIMPLIFICADA <code>SimplifiedInvoice</code></li>
    <li>actualizado el esquema de respuesta de <code>Invoice</code></li>
    <li>mejora de la funcionalidad de mantenimiento del endpoint <code>Signers</code></li>
    <li>mejora de la funcionalidad de mantenimiento del endpoint <code>Clients</code></li>
    </ul>
    
    </div>
    <div class="page">
    
    <br />

    <h3 id="section/Producto/Cambios/0.10.0"><a class="sc-crHmcD ldbzSJ" href="#section/Producto/Cambios/0.10.0" aria-label="section/Producto/Cambios/0.10.0">0.10.0 </a> [2023-04-17] API de Facturación</h3>

    <nil>

    <ul>
    <li>actualizado el esquema de solicitud de <code>SimplifiedInvoice</code></li>
    <li>actualizado el esquema de respuesta de <code>Invoice</code></li>
    <li>mejora de la funcionalidad de mantenimiento del endpoint <code>Taxpayer</code></li>
    <li>mejora de la funcionalidad de mantenimiento del endpoint <code>Signers</code></li>
    <li>mejora de la funcionalidad de mantenimiento del endpoint <code>Clients</code></li>
    </ul>
    
    <br />

    <h3 id="section/Producto/Cambios/0.9.0"><a class="sc-crHmcD ldbzSJ" href="#section/Producto/Cambios/0.9.0" aria-label="section/Producto/Cambios/0.9.0">0.9.0 </a> [2023-04-02] Clientes</h3>

    <nil>

    <ul>
    <li>habilitada la función de mantenimiento del endpoint <code>Clients</code> con asignación de firmantes por defecto</li>
    <li>se ha actualizado la funcionalidad de mantenimiento del endpoint <code>Signers</code></li>
    <li>se ha actualizado la funcionalidad de mantenimiento del endpoint <code>Taxpayer</code></li>
    <li>actualizada la funcionalidad del endpoint <code>Authentication</code></li>
    <li>actualizado el esquema de respuesta del endpoint <code>Authentication</code></li>
    <li>refinado el esquema de respuesta del endpoint <code>Invoices</code></li>
    </ul>
    
    <br />

    <h3 id="section/Producto/Cambios/0.8.0"><a class="sc-crHmcD ldbzSJ" href="#section/Producto/Cambios/0.8.0" aria-label="section/Producto/Cambios/0.8.0">0.8.0 </a> [2023-03-29] Firmantes</h3>

    <nil>

    <ul>
    <li>respuestas de error del endpoint <code>createSigner</code> refinadas</li>
    <li>respuestas de error del endpoint <code>updateSigner</code> refinadas</li>
    <li>respuestas de error del endpoint <code>retrieveSigner</code> refinadas</li>
    <li>respuestas de error del endpoint <code>listSigner</code> refinadas</li>
    <li>respuestas de error del endpoint <code>createClient</code> refinadas</li>
    <li>respuestas de error del endpoint <code>updateClient</code> refinadas</li>
    <li>respuestas de error del endpoint <code>retrieveClient</code> refinadas</li>
    <li>respuestas de error del endpoint <code>listClient</code> refinadas</li>
    <li>actualizado el esquema de la API <code>SigningDevice</code> con un campo de <code>certificate</code> explícito</li>
    <li>actualización de las funciones de mantenimiento de la información de <code>Taxpayer</code></li>
    <li>habilitada la funcionalidad de mantenimiento para <code>Signer</code> con certificados gestionados</li>
    </ul>
    
    </div>
    <div class="page">
    
    <br />

    <h3 id="section/Producto/Cambios/0.7.0"><a class="sc-crHmcD ldbzSJ" href="#section/Producto/Cambios/0.7.0" aria-label="section/Producto/Cambios/0.7.0">0.7.0 </a> [2023-03-22] Actualización de la API</h3>

    <nil>

    <ul>
    <li>los cambios afectan a los endpoints <code>Taxpayer</code></li>
    <li>renombrado el campo  <code>tax_id</code> del esquema <code>TicketbaiIssuer</code> a <code>tax_number</code></li>
    <li>renombrado el campo <code>name</code> del esquema <code>TicketbaiIssuer</code> a <code>legal_name</code></li>
    <li>renombrado el esquema <code>TicketbaiVatRegistrationNumber</code> a <code>TicketbaiTaxNumber</code></li>
    </ul>
    
    <br />

    <h3 id="section/Producto/Cambios/0.6.0"><a class="sc-crHmcD ldbzSJ" href="#section/Producto/Cambios/0.6.0" aria-label="section/Producto/Cambios/0.6.0">0.6.0 </a> [2023-03-20] Actualización de la API</h3>

    <nil>

    <ul>
    <li>actualizado el esquema de solicitud/respuesta de los endpoints <code>Authentication</code>, <code>Taxpayer</code>, y <code>Signer</code></li>
    <li>esquema <code>ErrorResponse</code> actualizado</li>
    <li>se han introducido los esquemas genéricos <code>BadRequestResponse</code>, <code>UnauthorizedAccessResponse</code>, <code>ResourceNotFoundResponse</code>, y <code>InternalServerErrorResponse</code></li>
    <li>funcionalidad de servicio <code>Authentication</code> habilitada</li>
    <li>funcionalidad de servicio  <code>Taxpayer</code> habilitada</li>
    <li>los cambios de producto se integran en la especificación OpenAPI y están disponibles a través de RSS, Atom y un canal genérico basado en JSON</li>
    </ul>
    
    <br />

    <h3 id="section/Producto/Cambios/0.5.0"><a class="sc-crHmcD ldbzSJ" href="#section/Producto/Cambios/0.5.0" aria-label="section/Producto/Cambios/0.5.0">0.5.0 </a> [2023-02-23] Actualización de la API</h3>

    <nil>

    <ul>
    <li>se ha introducido el tipo de esquema de respuesta del endpoint <code>ErrorResponse</code></li>
    <li>esquema de respuesta <code>Client</code> actualizado</li>
    <li>introducción del esquema SignerState</li>
    <li>provee ciclo de implantación del servicio</li>
    </ul>
    
    </div>
    <div class="page">
    
    <br />

    <h3 id="section/Producto/Cambios/0.4.0"><a class="sc-crHmcD ldbzSJ" href="#section/Producto/Cambios/0.4.0" aria-label="section/Producto/Cambios/0.4.0">0.4.0 </a> [2023-02-07] Reformulación de la API</h3>

    <nil>

    <ul>
    <li>tipos de esquema de respuesta de los endpoints actualizados</li>
    <li>esquema <code>SigningDevice</code> actualizado</li>
    <li>esquema <code>SignerState</code> introducido</li>
    </ul>
    
    <br />

    <h3 id="section/Producto/Cambios/0.3.0"><a class="sc-crHmcD ldbzSJ" href="#section/Producto/Cambios/0.3.0" aria-label="section/Producto/Cambios/0.3.0">0.3.0 </a> [2023-01-30] Actualización de la API</h3>

    <nil>

    <ul>
    <li>esquema <code>TicketBaiInvoiceState</code> actualizado</li>
    <li>cambiado <code>TicketBaiInvoiceTransmission</code> a <code>TicketBaiInvoiceCancellationState</code></li>
    <li>documentación actualizada de <code>TicketBaiIssuer</code></li>
    <li>documentación actualizada de <code>TicketBaiVatRegistrationNumber</code></li>
    <li>patrones regex<code>Decimal3p2</code> modificados</li>
    </ul>
    
    <br />

    <h3 id="section/Producto/Cambios/0.2.0"><a class="sc-crHmcD ldbzSJ" href="#section/Producto/Cambios/0.2.0" aria-label="section/Producto/Cambios/0.2.0">0.2.0 </a> [2023-01-20] Reformulación de la API</h3>

    <nil>

    <ul>
    <li>descripción actualizada del esquema <code>UniversallyUniqueIdentifierV4</code></li>
    <li>cambiada la clave de actualización de <code>AccessToken</code> de <code>token</code> a <code>refresh_token</code></li>
    <li>funcionalidad básica del servidor de pruebas</li>
    </ul>
    
    </div>
    <div class="page">
    
    <br />

    <h3 id="section/Producto/Cambios/0.1.1"><a class="sc-crHmcD ldbzSJ" href="#section/Producto/Cambios/0.1.1" aria-label="section/Producto/Cambios/0.1.1">0.1.1 </a> [2023-01-13] Reformulación de la API</h3>

    <nil>

    <ul>
    <li>esquema <code>AccessToken</code> actualizado</li>
    <li>cambiada la representación de  <code>ApiKeyString</code> y <code>ApiSecretString</code></li>
    <li>formatos PKCS y PEM proporcionados</li>
    <li>actualizaciónes del régimen TicketBAI y de los códigos imponibles</li>
    </ul>
    
    <br />

    <h3 id="section/Producto/Cambios/0.1.0"><a class="sc-crHmcD ldbzSJ" href="#section/Producto/Cambios/0.1.0" aria-label="section/Producto/Cambios/0.1.0">0.1.0 </a> [2023-01-05] Versión inicial</h3>

    <nil>

    <ul>
    <li>proporciona el borrador de la especificación OpenAPI de SIGN ES</li>
    <li>define los esquemas de TicketBAI</li>
    <li>define los endpoints de SIGN ES</li>
    </ul>
    
    </div>
    <br />
    <!-- div class="pagination-controls">
      <button class="pagination-prev" disabled> < </button>
      <button class="pagination-next"> > </button>
    </div -->
    </div>



    ## Versionado
    fiskaly **SIGN ES** sigue el esquema de [versionado semántico](https://semver.org/lang/es/). El número de versión tiene un patrón de `MAYOR.MENOR.PARCHE`. Se incrementa:
      - la versión `MAYOR` cuando realizamos un cambio que es incompatible con la versión anterior de la API,
      - la versión `MENOR` cuando añadimos una funcionalidad compatible con versiones anteriores, y
      - la versión `PARCHE` cuando reparamos errores compatibles con versiones anteriores.

    ## Recursos

    Esta API hace uso de identificadores únicos [UUIDv4](https://datatracker.ietf.org/doc/html/rfc4122) para referenciar recursos creados dentro de **SIGN ES**.

    La API de **SIGN ES** solo soporta UUIDs (pseudo-)aleatorios en versión 4 ([UUIDv4](https://datatracker.ietf.org/doc/html/rfc4122#section-4.4)).

    Los identificadores UUIDv4 asignados a recursos de **SIGN ES**, como `Firmantes`, `Clientes`, `Facturas` y `Exportaciones`, deberán ser generados por una biblioteca disponible en su idioma de programación, por ejemplo en [JavaScript](https://www.npmjs.com/package/uuid#uuidv4options-buffer-offset) o en [Golang](https://pkg.go.dev/github.com/google/uuid#NewRandom).


    # Guía Rápida

    Para una primera prueba rápida, puedes utilizar Postman. 
    Hemos preparado una colección de Postman que te permite conocer las funciones más importantes de nuestra API.

    1. Descarga la aplicación [Postman](https://www.getpostman.com/downloads/).

    2. Crea una **Clave API** (API Key) y un **Secreto API** (API Secret) a través del [dashboard de fiskaly](https://dashboard.fiskaly.com):
       ![](https://live.es.sign.fiskaly.com/api/v1/es/assets/dashboard_api_key.gif)<br><br>

    3. Inserta tu **Clave API** y **Secreto API** para descargar **el entorno de Postman de fiskaly SIGN ES** como archivo personalizado de configuración basado en JSON:
      <form action="https://test.es.sign.fiskaly.com/api/v1/postman/environment.json" method="get">
      <table>
      <tr>
      <th>Clave API</th>
      <td><input type="text" name="api_key" placeholder="api_key" required=""></td>
      </tr><tr>
      <th>Secreto API</th>
      <td><input type="password" name="api_secret" placeholder="api_secret" required=""></td>
      </tr>
      </table>
      <input type="submit" value="Descargar entorno Postman">
      </form><br>

    4. Descarga la **colección Postman de fiskaly SIGN ES**, el archivo de configuración basado en JSON:
      <form action="https://test.es.sign.fiskaly.com/api/v1/postman/collection.json" method="get">
      <input type="submit" value="Descargar colección Postman">
      </form><br>

    5. Inicia Postman e importa los archivos del entorno y la colección de Postman que has descargado:
      ![](https://live.es.sign.fiskaly.com/api/v1/es/assets/postman_import_files.gif)<br><br>

    6. Selecciona el entorno de fiskaly **SIGN ES** en Postman y ejecuta la colección:
      ![](https://live.es.sign.fiskaly.com/api/v1/es/assets/postman_run_collection.gif)<br><br>

    # Preguntas frecuentes
    Las preguntas frecuentes de **SIGN ES** se encuentran en la [página de soporte de fiskaly](https://support.fiskaly.com/hc/es). 
  x-logo:
    url: 'https://www.fiskaly.com/fiskaly_logo.svg'
    altText: 'fiskaly Logo'
tags:
  - name: 'Autenticación'
    description: |
      Las API de fiskaly utiliza un mecanismo de seguridad basado en [JWT](#section/JWT) para autenticar las solicitudes de la API.
      Las solicitudes de API sin autenticación fallarán con un error HTTP de acceso no autorizado.
      Las API de fiskaly procesa solo solicitudes basadas en `https`.
      Las solicitudes simples basadas en `http` son redirigidas a `https`.


      ## JWT

      Un JSON Web Token (JWT) utilizado para el control de acceso y la autorización.
      El JWT se puede obtener a través de una solicitud de API [recuperar token de autenticación](#operation/fetchAccessToken).
  - name: 'Contribuyente'
  - name: 'Firmantes'
  - name: 'Clientes'
  - name: 'Facturas'
    description: |
      La API fiskaly **SIGN ES** proporciona información de facturas compatibles con TicketBAI y Verifactu en los datos de respuesta de endpoints `createInvoice`, `updateInvoice` y `retrieveInvoice` a continuación.
      Esta información se debe imprimir en la factura, pero recomendamos implementar nuestra [API del Recibo Digital](https://developer.fiskaly.com/es/sign-es/digital_receipt) para representar facturas digitalmente.
  - name: 'Exportar datos'
  - name: 'Software'
x-tagGroups:
  - name: 'Autenticación'
    tags:
      - 'Autenticación'
  - name: 'Mantenimiento'
    tags:
      - 'Contribuyente'
      - 'Firmantes'
      - 'Clientes'
      - 'Software'
  - name: 'Operación'
    tags:
      - 'Facturas'
  - name: 'Exportar'
    tags:
      - 'Exportar datos'
paths:
  /auth:
    post:
      summary: Obtener token de acceso
      description: |
        Para acceder a un API fiskaly necesitas un `access_token` JWT válido.
        Este endpoint crea el token con tu clave `api_key` y secreto `api_secret`.

        Si no tienes una clave, puedes crear una a través del endpoint [createApiKey](/api/management/v0/#operation/createApiKey) de la API de gestión o a través del [dashboard de fiskaly](https://dashboard.fiskaly.com).

        El secreto `api_secret` se generará una vez creada la clave `api_key`.

        El `access_token` debe enviarse en cada solicitud dentro del encabezado de `Authorization` utilizando el esquema de autenticación `Bearer`.

        Más detalles [aquí](https://datatracker.ietf.org/doc/html/rfc6750#section-2.1).
      tags:
        - 'Autenticación'
      security: []
      operationId: retrieveToken
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - content
              properties:
                content:
                  oneOf:
                    - $ref: '#/components/schemas/ApiKeySecretAuthentication'
                    - $ref: '#/components/schemas/RefreshTokenAuthentication'
              additionalProperties: false
      responses:
        '200':
          $ref: '#/components/responses/AuthenticationResponse'
        '400':
          $ref: '#/components/responses/BadRequestResponse'
        '401':
          $ref: '#/components/responses/UnauthorizedAccessResponse'
        '500':
          $ref: '#/components/responses/InternalServerErrorResponse'
  /taxpayer:
    put:
      summary: Crear contribuyente
      description: Este endpoint se utiliza para crear la información de un contribuyente (emisor de facturas)
      tags:
        - 'Contribuyente'
      security:
        - JWT: []
      operationId: createTaxpayer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/TaxpayerCreateRequest'
      responses:
        '200':
          $ref: '#/components/responses/TaxpayerResponse'
        '400':
          $ref: '#/components/responses/BadRequestResponse'
        '401':
          $ref: '#/components/responses/UnauthorizedAccessResponse'
        '405':
          $ref: '#/components/responses/MethodNotAllowedResponse'
        '409':
          $ref: '#/components/responses/ResourceConflictResponse'
        '500':
          $ref: '#/components/responses/InternalServerErrorResponse'
    patch:
      summary: Actualizar contribuyente
      description: 'Para actualizar el estado de un contribuyente específico, este endpoint permite desactivar un contribuyente de forma permanente y/o actualizar los metadatos del contribuyente.'
      tags:
        - 'Contribuyente'
      security:
        - JWT: []
      operationId: updateTaxpayer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                content:
                  type: object
                  properties:
                    state:
                      $ref: '#/components/schemas/TaxpayerState'
                  additionalProperties: false
                metadata:
                  $ref: '#/components/schemas/Metadata'
              additionalProperties: false
      responses:
        '200':
          $ref: '#/components/responses/TaxpayerResponse'
        '400':
          $ref: '#/components/responses/BadRequestResponse'
        '401':
          $ref: '#/components/responses/UnauthorizedAccessResponse'
        '404':
          $ref: '#/components/responses/ResourceNotFoundResponse'
        '500':
          $ref: '#/components/responses/InternalServerErrorResponse'
    get:
      summary: Obtener contribuyente
      description: Este endpoint se utiliza para obtener la información del contribuyente (emisor de facturas).
      tags:
        - 'Contribuyente'
      security:
        - JWT: []
      operationId: retrieveTaxpayer
      responses:
        '200':
          $ref: '#/components/responses/TaxpayerResponse'
        '400':
          $ref: '#/components/responses/BadRequestResponse'
        '401':
          $ref: '#/components/responses/UnauthorizedAccessResponse'
        '404':
          $ref: '#/components/responses/ResourceNotFoundResponse'
        '500':
          $ref: '#/components/responses/InternalServerErrorResponse'
  '/signers/{signer_id}':
    put:
      summary: Crear dispositivo firmante
      description: |-
        Este endpoint se utiliza para crear un dispositivo firmante. **SIGN ES** gestiona los certificados para Verifactu y TicketBAI.

        Debe existir al menos un dispositivo de firma para cada organización gestionada para poder emitir facturas.  
        Un dispositivo de firma permite utilizar un certificado de dispositivo exclusivo para TicketBAI del tipo "Punto de facturación" y mantiene el encadenamiento de facturas para uno o varios dispositivos de cliente.

        Para TicketBAI, el certificado firmante emplea un certificado de tipo "Punto de facturación", para la firma y envio de registros encadenados. Cada dispositivo de firma requiere un certificado de dispositivo. Si no se provee un certificado externo durante la creación del dispositivo, **SIGN ES** asignara un certificado gestionado por fiskaly GmbH.

        Para Verifactu, **SIGN ES** utilizara por defecto un certificado electronico gestionado por fiskaly GmbH, que se empleara para la firma y envio a la agencia tributaria de registros encadenados.

        Esta llamada es idempotente.
      tags:
        - 'Firmantes'
      security:
        - JWT: []
      operationId: createSigner
      parameters:
        - $ref: '#/components/parameters/SignerIdentifier'
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                content:
                  $ref: '#/components/schemas/Signer'
                metadata:
                  $ref: '#/components/schemas/Metadata'
              additionalProperties: false
      responses:
        '200':
          $ref: '#/components/responses/SignerResponse'
        '400':
          $ref: '#/components/responses/BadRequestResponse'
        '401':
          $ref: '#/components/responses/UnauthorizedAccessResponse'
        '409':
          $ref: '#/components/responses/ResourceConflictResponse'
        '500':
          $ref: '#/components/responses/InternalServerErrorResponse'
    patch:
      summary: Actualizar dispositivo firmante
      description: 'Para actualizar el estado de un dispositivo firmante específico, este endpoint permite deshabilitar (desactivar) un dispositivo de firma de forma permanente y/o actualizar los metadatos del dispositivo firmante.'
      tags:
        - 'Firmantes'
      security:
        - JWT: []
      operationId: updateSigner
      parameters:
        - $ref: '#/components/parameters/SignerIdentifier'
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                content:
                  type: object
                  properties:
                    state:
                      $ref: '#/components/schemas/DeviceState'
                  additionalProperties: false
                metadata:
                  $ref: '#/components/schemas/Metadata'
              additionalProperties: false
      responses:
        '200':
          $ref: '#/components/responses/SignerResponse'
        '400':
          $ref: '#/components/responses/BadRequestResponse'
        '401':
          $ref: '#/components/responses/UnauthorizedAccessResponse'
        '404':
          $ref: '#/components/responses/ResourceNotFoundResponse'
        '500':
          $ref: '#/components/responses/InternalServerErrorResponse'
    get:
      summary: Obtener un firmante
      description: Obtiene el dispositivo firmante específico de una organización.
      tags:
        - 'Firmantes'
      security:
        - JWT: []
      operationId: retrieveSigner
      parameters:
        - $ref: '#/components/parameters/SignerIdentifier'
      responses:
        '200':
          $ref: '#/components/responses/SignerResponse'
        '400':
          $ref: '#/components/responses/BadRequestResponse'
        '401':
          $ref: '#/components/responses/UnauthorizedAccessResponse'
        '404':
          $ref: '#/components/responses/ResourceNotFoundResponse'
        '500':
          $ref: '#/components/responses/InternalServerErrorResponse'
  /signers:
    get:
      summary: Listar dispositivos firmantes
      description: Obtiene una lista de dispositivos firmantes de una organización.
      tags:
        - 'Firmantes'
      security:
        - JWT: []
      operationId: listSigners
      parameters:
        - $ref: '#/components/parameters/PaginationLimitQuery'
        - $ref: '#/components/parameters/PaginationTokenQuery'
      responses:
        '200':
          $ref: '#/components/responses/SignersResponse'
        '400':
          $ref: '#/components/responses/BadRequestResponse'
        '401':
          $ref: '#/components/responses/UnauthorizedAccessResponse'
        '500':
          $ref: '#/components/responses/InternalServerErrorResponse'
  '/clients/{client_id}':
    put:
      summary: |
        Crear cliente
      description: |
        Este endpoint se utiliza para crear un dispositivo cliente.

        Un dispositivo cliente permite identificar inequívocamente (a través del parámetro de ruta `device_id`) una terminal, sistema TPV, aplicación o cliente que emite facturas.

        Para emitir facturas necesitas un cliente por cada sistema TPV y al menos un dispositivo firmante.

        Esta llamada es idempotente.
      tags:
        - 'Clientes'
      security:
        - JWT: []
      operationId: createClient
      parameters:
        - $ref: '#/components/parameters/ClientIdentifier'
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                content:
                  $ref: '#/components/schemas/Client'
                metadata:
                  $ref: '#/components/schemas/Metadata'
              additionalProperties: false
      responses:
        '200':
          $ref: '#/components/responses/ClientResponse'
        '400':
          $ref: '#/components/responses/BadRequestResponse'
        '401':
          $ref: '#/components/responses/UnauthorizedAccessResponse'
        '409':
          $ref: '#/components/responses/ResourceConflictResponse'
        '500':
          $ref: '#/components/responses/InternalServerErrorResponse'
    patch:
      summary: Actualizar cliente
      description: 'Para actualizar el estado de un dispositivo cliente específico, este endpoint permite desactivar un dispositivo cliente de forma permanente y/o actualizar los metadatos del dispositivo cliente.'
      tags:
        - 'Clientes'
      security:
        - JWT: []
      operationId: updateClient
      parameters:
        - $ref: '#/components/parameters/ClientIdentifier'
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                content:
                  type: object
                  properties:
                    state:
                      $ref: '#/components/schemas/DeviceState'
                  additionalProperties: false
                metadata:
                  $ref: '#/components/schemas/Metadata'
              additionalProperties: false
      responses:
        '200':
          $ref: '#/components/responses/ClientResponse'
        '400':
          $ref: '#/components/responses/BadRequestResponse'
        '401':
          $ref: '#/components/responses/UnauthorizedAccessResponse'
        '404':
          $ref: '#/components/responses/ResourceNotFoundResponse'
        '500':
          $ref: '#/components/responses/InternalServerErrorResponse'
    get:
      summary: Obtener un cliente
      description: Obtiene un dispositivo cliente específico de la organización.
      tags:
        - 'Clientes'
      security:
        - JWT: []
      operationId: retrieveClient
      parameters:
        - $ref: '#/components/parameters/ClientIdentifier'
      responses:
        '200':
          $ref: '#/components/responses/ClientResponse'
        '400':
          $ref: '#/components/responses/BadRequestResponse'
        '401':
          $ref: '#/components/responses/UnauthorizedAccessResponse'
        '404':
          $ref: '#/components/responses/ResourceNotFoundResponse'
        '500':
          $ref: '#/components/responses/InternalServerErrorResponse'
  /clients:
    get:
      summary: Listar clientes
      description: Lista los dispositivos clientes de una organización.
      tags:
        - 'Clientes'
      security:
        - JWT: []
      operationId: listClients
      parameters:
        - $ref: '#/components/parameters/PaginationLimitQuery'
        - $ref: '#/components/parameters/PaginationTokenQuery'
      responses:
        '200':
          $ref: '#/components/responses/ClientsResponse'
        '400':
          $ref: '#/components/responses/BadRequestResponse'
        '401':
          $ref: '#/components/responses/UnauthorizedAccessResponse'
        '500':
          $ref: '#/components/responses/InternalServerErrorResponse'
  '/clients/{client_id}/invoices/{invoice_id}':
    put:
      summary: Crear factura
      description: Este endpoint se utiliza para emitir una factura a través de un dispositivo cliente.
      tags:
        - 'Facturas'
      security:
        - JWT: []
      operationId: createInvoice
      parameters:
        - $ref: '#/components/parameters/ClientIdentifier'
        - $ref: '#/components/parameters/InvoiceIdentifier'
        - $ref: '#/components/parameters/InvoiceRepresentationCodeQuery'
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - content
              properties:
                content:
                  $ref: '#/components/schemas/Invoice'
                annotations:
                  $ref: '#/components/schemas/Annotations'
                metadata:
                  $ref: '#/components/schemas/Metadata'
              additionalProperties: false
      responses:
        '200':
          $ref: '#/components/responses/InvoiceResponse'
        '400':
          $ref: '#/components/responses/BadRequestResponse'
        '401':
          $ref: '#/components/responses/UnauthorizedAccessResponse'
        '409':
          $ref: '#/components/responses/ResourceConflictResponse'
        '429':
          $ref: '#/components/responses/TooManyRequestsResponse'
        '500':
          $ref: '#/components/responses/InternalServerErrorResponse'
    patch:
      summary: Actualizar factura
      description: |-
        Este endpoint se utiliza para cancelar una factura ya creada en el sistema **SIGN ES**, o modificar los metadatos de una factura ya creada.
        Al anular una factura, el estado de la factura cambia y se inicia una nueva sincronización con la autoridad tributaria para anular una factura previamente registrada.

        ¿Cuándo puedo anular una factura? En casos donde no se necesita una rectificación. Por ejemplo, cuando la operación no se ha llevado a cabo y la factura no fue entregada al cliente ([DGT V0611/ 11-3-2011](https://petete.tributos.hacienda.gob.es/consultas/?num_consulta=V0611-11)).
        Una vez anulada una factura, el mismo número de serie y número de factura no pueden volver a utilizarse.
      tags:
        - 'Facturas'
      security:
        - JWT: []
      operationId: updateInvoice
      parameters:
        - $ref: '#/components/parameters/ClientIdentifier'
        - $ref: '#/components/parameters/InvoiceIdentifier'
        - $ref: '#/components/parameters/InvoiceRepresentationCodeQuery'
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                content:
                  type: object
                  properties:
                    state:
                      $ref: '#/components/schemas/InvoiceState'
                  additionalProperties: false
                annotations:
                  $ref: '#/components/schemas/Annotations'
                metadata:
                  $ref: '#/components/schemas/Metadata'
              additionalProperties: false
      responses:
        '200':
          $ref: '#/components/responses/InvoiceResponse'
        '400':
          $ref: '#/components/responses/BadRequestResponse'
        '401':
          $ref: '#/components/responses/UnauthorizedAccessResponse'
        '500':
          $ref: '#/components/responses/InternalServerErrorResponse'
    get:
      summary: Obtener una factura
      description: Este endpoint obtiene una factura emitida por un dispositivo cliente.
      tags:
        - 'Facturas'
      security:
        - JWT: []
      operationId: retrieveInvoice
      parameters:
        - $ref: '#/components/parameters/ClientIdentifier'
        - $ref: '#/components/parameters/InvoiceIdentifier'
        - $ref: '#/components/parameters/InvoiceRepresentationCodeQuery'
      responses:
        '200':
          $ref: '#/components/responses/InvoiceResponse'
        '400':
          $ref: '#/components/responses/BadRequestResponse'
        '401':
          $ref: '#/components/responses/UnauthorizedAccessResponse'
        '500':
          $ref: '#/components/responses/InternalServerErrorResponse'
  '/clients/{client_id}/invoices':
    get:
      summary: Listar facturas
      description: Este endpoint obtiene una lista de las facturas emitidas desde un dispositivo cliente.
      tags:
        - 'Facturas'
      security:
        - JWT: []
      operationId: listInvoices
      parameters:
        - $ref: '#/components/parameters/ClientIdentifier'
        - $ref: '#/components/parameters/InvoiceRepresentationCodeQuery'
        - $ref: '#/components/parameters/PaginationLimitQuery'
        - $ref: '#/components/parameters/PaginationTokenQuery'
      responses:
        '200':
          $ref: '#/components/responses/InvoicesResponse'
        '400':
          $ref: '#/components/responses/BadRequestResponse'
        '401':
          $ref: '#/components/responses/UnauthorizedAccessResponse'
        '500':
          $ref: '#/components/responses/InternalServerErrorResponse'
  /invoices:
    get:
      summary: Buscar facturas
      description: |-
        Este endpoint obtiene una lista de las fatcuras emitidas por el contribuyente, opcionalmente filtrando por cualquier combinación de número, serie o fecha de emisión.
        Las facturas se identifican inequívocamente por su número, número de serie y año de emisión.

        Los parámetros `issue_date_from` y `issue_date_to` permiten especificar un rango temporal en el cual las facturas fueron emitidas, donde `issued_at_from` es inclusive y `issue_at_to` es exclusive.  
        Por lo tanto, si una factura fue emitida el `10-08-2023 15:04:03` y se especifica `issued_at_from` como `10-08-2023 15:04:03`, la factura estará incluida en la respuesta, y si se especifica `issued_at_to` como `10-08-2023 15:04:03`, entonces no estará incluida.
      tags:
        - 'Facturas'
      security:
        - JWT: []
      operationId: searchInvoices
      parameters:
        - $ref: '#/components/parameters/InvoiceNumberQuery'
        - $ref: '#/components/parameters/InvoiceSeriesQuery'
        - $ref: '#/components/parameters/InvoiceIssuedAtFromQuery'
        - $ref: '#/components/parameters/InvoiceIssuedAtToQuery'
        - $ref: '#/components/parameters/ClientIdentifierQuery'
        - $ref: '#/components/parameters/PaginationLimitQuery'
        - $ref: '#/components/parameters/PaginationTokenQuery'
      responses:
        '200':
          $ref: '#/components/responses/InvoicesResponse'
        '400':
          $ref: '#/components/responses/BadRequestResponse'
        '401':
          $ref: '#/components/responses/UnauthorizedAccessResponse'
        '500':
          $ref: '#/components/responses/InternalServerErrorResponse'
  '/clients/{client_id}/invoices/{invoice_id}/xml':
    get:
      summary: Exportar factura
      description: |
        Este endpoint proporciona la funcionalidad de exportación sincrónica de una única factura y el estado de transmisión del archivo XML de solicitud/respuesta del registro de alta/anulación de TicketBAI.

        Se recomienda utilizar este endpoint únicamente para inspeccionar una factura individual.
        Para exportar e inspeccionar varias facturas, utiliza la funcionalidad de [exportación](#operation/createExport).
      tags:
        - 'Facturas'
      security:
        - JWT: []
      operationId: exportInvoice
      parameters:
        - $ref: '#/components/parameters/ClientIdentifier'
        - $ref: '#/components/parameters/InvoiceIdentifier'
      responses:
        '200':
          $ref: '#/components/responses/InvoiceExportResponse'
        '400':
          $ref: '#/components/responses/BadRequestResponse'
        '401':
          $ref: '#/components/responses/UnauthorizedAccessResponse'
        '409':
          $ref: '#/components/responses/ResourceConflictResponse'
        '500':
          $ref: '#/components/responses/InternalServerErrorResponse'
  '/exports/{export_id}':
    put:
      summary: Crear exportación
      description: Este endpoint crea una exportación asíncrona de facturas para los criterios aplicados.
      tags:
        - 'Exportar datos'
      security:
        - JWT: []
      operationId: createExport
      parameters:
        - $ref: '#/components/parameters/ExportIdentifier'
        - $ref: '#/components/parameters/InvoiceSeriesQuery'
        - $ref: '#/components/parameters/InvoiceIssuedAtFromQuery'
        - $ref: '#/components/parameters/InvoiceIssuedAtToQuery'
        - $ref: '#/components/parameters/ClientIdentifierQuery'
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                metadata:
                  $ref: '#/components/schemas/Metadata'
              additionalProperties: false
      responses:
        '200':
          $ref: '#/components/responses/ExportResponse'
        '400':
          $ref: '#/components/responses/BadRequestResponse'
        '401':
          $ref: '#/components/responses/UnauthorizedAccessResponse'
        '409':
          $ref: '#/components/responses/ResourceConflictResponse'
        '500':
          $ref: '#/components/responses/InternalServerErrorResponse'
    patch:
      summary: Actualizar exportación
      description: Este endpoint permite actualizar los metadatos de una exportación.
      tags:
        - 'Exportar datos'
      security:
        - JWT: []
      operationId: updateExport
      parameters:
        - $ref: '#/components/parameters/ExportIdentifier'
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                metadata:
                  $ref: '#/components/schemas/Metadata'
              additionalProperties: false
      responses:
        '200':
          $ref: '#/components/responses/ExportResponse'
        '400':
          $ref: '#/components/responses/BadRequestResponse'
        '401':
          $ref: '#/components/responses/UnauthorizedAccessResponse'
        '404':
          $ref: '#/components/responses/ResourceNotFoundResponse'
        '500':
          $ref: '#/components/responses/InternalServerErrorResponse'
    get:
      summary: Obtener una exportación
      description: Este endpoint obtiene un recurso que proporciona el estado de la solicitud de exportación.
      tags:
        - 'Exportar datos'
      security:
        - JWT: []
      operationId: retrieveExport
      parameters:
        - $ref: '#/components/parameters/ExportIdentifier'
      responses:
        '200':
          $ref: '#/components/responses/ExportResponse'
        '400':
          $ref: '#/components/responses/BadRequestResponse'
        '401':
          $ref: '#/components/responses/UnauthorizedAccessResponse'
        '404':
          $ref: '#/components/responses/ResourceNotFoundResponse'
        '500':
          $ref: '#/components/responses/InternalServerErrorResponse'
  /exports:
    get:
      summary: Listar exportaciones
      description: Este endpoint obtiene una lista de exportaciones solicitadas del contribuyente.
      tags:
        - 'Exportar datos'
      security:
        - JWT: []
      operationId: listExports
      parameters:
        - $ref: '#/components/parameters/PaginationLimitQuery'
        - $ref: '#/components/parameters/PaginationTokenQuery'
      responses:
        '200':
          $ref: '#/components/responses/ExportsResponse'
        '400':
          $ref: '#/components/responses/BadRequestResponse'
        '401':
          $ref: '#/components/responses/UnauthorizedAccessResponse'
        '500':
          $ref: '#/components/responses/InternalServerErrorResponse'
  '/exports/{export_id}.zip':
    get:
      summary: Descargar exportación
      description: Este endpoint obtiene el archivo zip de una exportación.
      tags:
        - 'Exportar datos'
      security:
        - JWT: []
      operationId: downloadExport
      parameters:
        - $ref: '#/components/parameters/ExportIdentifier'
      responses:
        '200':
          $ref: '#/components/responses/ExportZipResponse'
        '400':
          $ref: '#/components/responses/BadRequestResponse'
        '401':
          $ref: '#/components/responses/UnauthorizedAccessResponse'
        '404':
          $ref: '#/components/responses/ResourceNotFoundResponse'
        '500':
          $ref: '#/components/responses/InternalServerErrorResponse'
  /software:
    get:
      summary: Obtener software
      description: |-
        Este endpoint se utiliza para obtener la información del software **SIGN ES** acorde al registro de software para un contribuyente determinado, la cual es necesaria en caso de una verificación presencial.

        Para más detalles, referirse a la sección [Registro de Software](https://developer.fiskaly.com/es/sign-es/registration) en la guía para desarrolladores.
      tags:
        - 'Software'
      security:
        - JWT: []
      operationId: retrieveSoftware
      responses:
        '200':
          $ref: '#/components/responses/SoftwareResponse'
        '400':
          $ref: '#/components/responses/BadRequestResponse'
        '401':
          $ref: '#/components/responses/UnauthorizedAccessResponse'
        '409':
          $ref: '#/components/responses/ResourceConflictResponse'
        '500':
          $ref: '#/components/responses/InternalServerErrorResponse'
components:
  parameters:
    SignerIdentifier:
      description: 'Identifica un firmante (dispositivo de firma) con un identificador aleatorio en formato [UUIDv4](#section/Producto/Recursos).'
      in: path
      name: signer_id
      required: true
      schema:
        $ref: '#/components/schemas/UniversallyUniqueIdentifierV4'
    ClientIdentifier:
      description: 'Identifica un cliente de forma única con un identificador aleatorio en formato [UUIDv4](#section/Producto/Recursos).'
      in: path
      name: client_id
      required: true
      schema:
        $ref: '#/components/schemas/UniversallyUniqueIdentifierV4'
    ExportIdentifier:
      description: 'Identifica una exportación con un identificador aleatorio en formato [UUIDv4](#section/Producto/Recursos).'
      in: path
      name: export_id
      required: true
      schema:
        $ref: '#/components/schemas/UniversallyUniqueIdentifierV4'
    InvoiceIdentifier:
      description: 'Identifica una factura con un identificador aleatorio en formato [UUIDv4](#section/Producto/Recursos).'
      in: path
      name: invoice_id
      required: true
      schema:
        $ref: '#/components/schemas/UniversallyUniqueIdentifierV4'
    InvoiceRepresentationCodeQuery:
      description: 'Permite consultar opcionalmente el código de verificación de la factura con una representación específica (ver `TicketbaiRepresentationCode`). Cuando se omite el parámetro de consulta, se utiliza de forma predeterminada la representación `QR_CODE` en la respuesta.'
      in: query
      name: code
      required: false
      schema:
        $ref: '#/components/schemas/InvoiceRepresentationCode'
    InvoiceNumberQuery:
      description: Identifica el número de una factura en un determinado año.
      in: query
      name: number
      required: false
      schema:
        $ref: '#/components/schemas/TicketbaiInvoiceIdentifier'
    InvoiceSeriesQuery:
      description: Identifica el número de serie de una factura en un determinado año.
      in: query
      name: series
      required: false
      schema:
        $ref: '#/components/schemas/TicketbaiInvoiceIdentifier'
    InvoiceIssuedAtFromQuery:
      description: Define la fecha más temprana posible de la factura (inclusive).
      in: query
      name: issued_at_from
      required: false
      schema:
        $ref: '#/components/schemas/TimestampFormat19'
    InvoiceIssuedAtToQuery:
      description: Define la última fecha posible de la factura (exclusive).
      in: query
      name: issued_at_to
      required: false
      schema:
        $ref: '#/components/schemas/TimestampFormat19'
    ClientIdentifierQuery:
      description: Define el identificador del cliente que emite una factura.
      in: query
      name: client_id
      required: false
      schema:
        $ref: '#/components/schemas/UniversallyUniqueIdentifierV4'
    PaginationLimitQuery:
      in: query
      name: limit
      required: false
      schema:
        $ref: '#/components/schemas/PaginationLimit'
    PaginationTokenQuery:
      in: query
      name: token
      required: false
      schema:
        $ref: '#/components/schemas/PaginationToken'
  responses:
    AuthenticationResponse:
      description: Autenticación exitosa
      content:
        application/json:
          schema:
            type: object
            properties:
              content:
                $ref: '#/components/schemas/Authentication'
            required:
              - content
            additionalProperties: false
    TaxpayerResponse:
      description: Devuelve la información del contribuyente.
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/TaxpayerResource'
    SignersResponse:
      description: Devuelve una lista de dispositivos de firma.
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/SignerResources'
    SignerResponse:
      description: Devuelve un dispositivo de firma.
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/SignerResource'
    ClientsResponse:
      description: Devuelve una lista de clientes.
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/ClientResources'
    ClientResponse:
      description: Devuelve un cliente.
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/ClientResource'
    InvoicesResponse:
      description: Devuelve una lista de facturas firmadas.
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/InvoiceResources'
    InvoiceResponse:
      description: Devuelve una factura firmada.
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/InvoiceResource'
    ExportsResponse:
      description: Devuelve una lista de exportaciones.
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/ExportResources'
    ExportResponse:
      description: Devuelve una exportación.
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/ExportResource'
    ExportZipResponse:
      description: Returns an export zip archive.
      content:
        application/zip:
          schema:
            $ref: '#/components/schemas/Binary'
    InvoiceExportResponse:
      description: Devuelve una factura en el formato XML de exportación.
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/InvoiceExport'
    SoftwareResponse:
      description: Información del software.
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/SoftwareResource'
    BadRequestResponse:
      description: Solicitud incorrecta (no válida)
      content:
        application/json:
          schema:
            type: object
            required:
              - content
            properties:
              content:
                $ref: '#/components/schemas/ErrorResponse'
            additionalProperties: false
    UnauthorizedAccessResponse:
      description: Acceso no autorizado.
      content:
        application/json:
          schema:
            type: object
            required:
              - content
            properties:
              content:
                $ref: '#/components/schemas/ErrorResponse'
            additionalProperties: false
    ResourceNotFoundResponse:
      description: El recurso solicitado no existe.
      content:
        application/json:
          schema:
            type: object
            required:
              - content
            properties:
              content:
                $ref: '#/components/schemas/ErrorResponse'
            additionalProperties: false
    ResourceConflictResponse:
      description: El recurso solicitado tiene un conflicto.
      content:
        application/json:
          schema:
            type: object
            required:
              - content
            properties:
              content:
                $ref: '#/components/schemas/ErrorResponse'
            additionalProperties: false
    MethodNotAllowedResponse:
      description: The request method is not allowed.
      content:
        application/json:
          schema:
            type: object
            required:
              - content
            properties:
              content:
                $ref: '#/components/schemas/ErrorResponse'
            additionalProperties: false
    InternalServerErrorResponse:
      description: Ocurrió un error interno del servidor
      content:
        application/json:
          schema:
            type: object
            required:
              - content
            properties:
              content:
                $ref: '#/components/schemas/ErrorResponse'
            additionalProperties: false
    TooManyRequestsResponse:
      description: Ocurrió un error de concurrencia en el uso del recurso.
      content:
        application/json:
          schema:
            type: object
            required:
              - content
            properties:
              content:
                $ref: '#/components/schemas/ErrorResponse'
            additionalProperties: false
  schemas:
    ErrorResponse:
      description: Representación de respuestas de error.
      type: object
      required:
        - code
        - message
        - status
        - error
      properties:
        status:
          $ref: '#/components/schemas/ErrorStatus'
        code:
          $ref: '#/components/schemas/ErrorCode'
        error:
          $ref: '#/components/schemas/ErrorText'
        message:
          $ref: '#/components/schemas/ErrorMessage'
      additionalProperties: false
    ErrorStatus:
      description: Código de estado de error HTTP basado en números enteros.
      type: integer
      format: int32
      example: 401
    ErrorCode:
      description: Representación de un nombre de error único del código de estado de error HTTP.
      type: string
      example: E_UNAUTHORIZED_ACCESS
    ErrorText:
      description: Representación de una breve descripción del código de estado de error HTTP.
      type: string
      example: Unauthorized Access
    ErrorMessage:
      description: Representación de una descripción larga del código de estado de error HTTP.
      type: string
      example: Not authorized to perform this operation.
    ValidationErrors:
      description: Representación de una lista de errores asociados a validaciones.
      type: array
      items:
        $ref: '#/components/schemas/ValidationError'
    ValidationError:
      description: Representación de un código único de error de validación y descripción.
      type: object
      required:
        - code
        - description
      properties:
        code:
          description: |-
            **SIGN ES** supports the following validation codes:
            - `V_TICKETBAI`: Unknown or unhandled error from TicketBAI.
            - `V_INCORRECT_SENDER_CERTIFICATE`: The sender certificate is unknown.
            - `V_XSD_SCHEMA_NOT_COMPLY`: The XML file does not comply with the XML schema.
            - `V_INVOICE_WITHOUT_LINES`: The XML files does not include detail lines.
            - `V_REQUIRED_FIELD_MISSING_OR_INCORRECT`: Compulsory data is missing or incorrect.
            - `V_INVOICE_ALREADY_REGISTERED`: The invoice with the same number/series/year combination was already registered.
            - `V_SERVICE_NOT_AVAILABLE`: The reception service is not available.
            - `V_INVALID_SENDER_CERTIFICATE`: The sender certificate must be valid for the invoice sender.
            - `V_WRONG_SIGNATURE`: The signature validation failed.
            - `V_INCORRECT_INVOICE_CHAINING`: The invoice chaining was incorrect.
            - `V_BUSINESS_VALIDATION_DATA_ERROR`: The billing software block was incorrect.
            - `V_INVALID_TBAI_LICENSE`: The Ticketbai Licence not registered or not valid.
            - `V_DEVICE_NOT_REGISTERED`: The device certificate used for sending is pending registration.
            - `V_EXPIRED_SIGNATURE_CERTIFICATE`: The certificate used to sign the TicketBAI file has expired.
            - `V_EXPIRED_SENDER_CERTIFICATE`: The sender certifate is not valid or has expired.
            - `V_EXPIRED_SIGNER_CERTIFICATE`: The certificate used for signing is not valid or has expired.
            - `V_MISSING_OR_INCORRECT_DATA`: Missing or incorrect data.
            - `V_MESSAGE_TOO_LONG`: The message exceeds the maximum size of 512KB.
            - `V_INVOICE_NOT_REGISTERED`: .
            - `V_INVOICE_ALREADY_CANCELLED`: Invoice was already cancelled.
            - `V_INVOICE_ALREADY_CORRECTED`: Invoice was already corrected.
            - `V_INVOICE_ALREADY_CANCELLED_CERT_ERROR`: The signing and sending certificate must be valid (not expired or revoked).
            - `V_FULL_AMOUNT_MISMATCH`: The sum of line full_amount entries must equal invoice full_amount.
            - `V_ISSUE_DATE_OUT_OF_RANGE`: The issue date cannot be older than 20 years or in the future.
            - `V_INVALID_VAT_RATE`: VAT rate is not valid value for the taxpayers region.
            - `V_INTERNATIONAL_RECIPIENT_SPAIN_ID_TYPE_ERROR`: International recipients may only have country code ES with passport ID type.
            - `V_INCOMPATIBLE_VAT_SYSTEMS`: The provided invoice systems are not compatible with each other.
            - `V_TOO_MANY_VAT_SYSTEMS`: Too many invoice systems provided.
            - `V_INCORRECT_ITEM_VAT_CALCULATION`: An invoice item has an incorrectly applied VAT calculation.
            - `V_INVALID_CORRECTION_TYPE_FOR_COUPON`: The Coupon field can only be set to true if Invoice correction code is R1 or R5.
            - `V_REGISTRATION_REMEDY_ALREADY_EXISTS`: Registration file to be remedied must not have been previously received in the system.
            - `V_FILE_TO_REMEDY_DOES_NOT_EXIST`: The file to remedy does not exist in the system.
            - `V_CANCELLATION_REMEDY_ALREADY_EXISTS`: Cancellation file to be remedied must not have been previously received in the system.
            - `V_CANNOT_REMEDY_BASIC_DATA`: Remedy may not change basic invoice data.
          type: string
          enum:
            - V_TICKETBAI
            - V_INCORRECT_SENDER_CERTIFICATE
            - V_XSD_SCHEMA_NOT_COMPLY
            - V_INVOICE_WITHOUT_LINES
            - V_REQUIRED_FIELD_MISSING_OR_INCORRECT
            - V_INVOICE_ALREADY_REGISTERED
            - V_SERVICE_NOT_AVAILABLE
            - V_INVALID_SENDER_CERTIFICATE
            - V_WRONG_SIGNATURE
            - V_INCORRECT_INVOICE_CHAINING
            - V_BUSINESS_VALIDATION_DATA_ERROR
            - V_INVALID_TBAI_LICENSE
            - V_DEVICE_NOT_REGISTERED
            - V_EXPIRED_SIGNATURE_CERTIFICATE
            - V_EXPIRED_SENDER_CERTIFICATE
            - V_EXPIRED_SIGNER_CERTIFICATE
            - V_MISSING_OR_INCORRECT_DATA
            - V_MESSAGE_TOO_LONG
            - V_INVOICE_NOT_REGISTERED
            - V_INVOICE_ALREADY_CANCELLED
            - V_INVOICE_ALREADY_CORRECTED
            - V_INVOICE_ALREADY_CANCELLED_CERT_ERROR
            - V_FULL_AMOUNT_MISMATCH
            - V_ISSUE_DATE_OUT_OF_RANGE
            - V_INVALID_VAT_RATE
            - V_INTERNATIONAL_RECIPIENT_SPAIN_ID_TYPE_ERROR
            - V_INCOMPATIBLE_VAT_SYSTEMS
            - V_TOO_MANY_VAT_SYSTEMS
            - V_INCORRECT_ITEM_VAT_CALCULATION
            - V_INVALID_CORRECTION_TYPE_FOR_COUPON
            - V_REGISTRATION_REMEDY_ALREADY_EXISTS
            - V_FILE_TO_REMEDY_DOES_NOT_EXIST
            - V_CANCELLATION_REMEDY_ALREADY_EXISTS
            - V_CANNOT_REMEDY_BASIC_DATA
        description:
          description: Representation of a description of the given validation error.
          type: string
          example: The provided total amount is not allowed for issuing simplified invoices.
      additionalProperties: false
    CertificateIdentifier:
      $ref: '#/components/schemas/UniversallyUniqueIdentifierV4'
    SignerIdentifier:
      $ref: '#/components/schemas/UniversallyUniqueIdentifierV4'
    ClientIdentifier:
      $ref: '#/components/schemas/UniversallyUniqueIdentifierV4'
    ExportIdentifier:
      $ref: '#/components/schemas/UniversallyUniqueIdentifierV4'
    InvoiceIdentifier:
      $ref: '#/components/schemas/UniversallyUniqueIdentifierV4'
    TaxpayerCreateRequest:
      type: object
      required:
        - content
      properties:
        content:
          $ref: '#/components/schemas/TaxpayerCreateContent'
        metadata:
          $ref: '#/components/schemas/Metadata'
      additionalProperties: false
    TaxpayerResource:
      description: Representación de un recurso de contribuyente.
      type: object
      required:
        - content
      properties:
        content:
          $ref: '#/components/schemas/Taxpayer'
        metadata:
          $ref: '#/components/schemas/Metadata'
      additionalProperties: false
    TaxpayerCreateContent:
      description: 'Representa la información del contribuyente que se utiliza para emitir facturas para todos los dispositivos de firma dentro del contexto de la organización gestionada, asociada al [JWT](#section/JWT). Consta de información del emisor `issuer` de la factura y del territorio `territory` que representa el domicilio fiscal del contribuyente.'
      type: object
      required:
        - issuer
        - territory
      properties:
        issuer:
          $ref: '#/components/schemas/NationalIdentification'
        territory:
          $ref: '#/components/schemas/Territory'
      additionalProperties: false
    Taxpayer:
      allOf:
        - $ref: '#/components/schemas/TaxpayerCreateContent'
        - type: object
          required:
            - type
            - state
          properties:
            type:
              $ref: '#/components/schemas/TaxpayerType'
            state:
              $ref: '#/components/schemas/TaxpayerState'
          additionalProperties: false
    TaxpayerType:
      description: |
        El tipo de contribuyente:
          - `COMPANY` si el número de identificación fiscal empieza por la letra A, B, C, D, E, F, G, H, J, P, Q, R, S, U, V, N o W, el tipo corresponde a un contribuyente empresa (persona jurídica)
          - `INDIVIDUAL` si el número de identificación fiscal empieza por cualquier otra letra o número, el tipo corresponde a un contribuyente individual (persona física)
      type: string
      enum:
        - COMPANY
        - INDIVIDUAL
    TaxpayerState:
      description: 'Un contribuyente en el sistema se establecerá en el estado `ENABLED` (HABILITADO) y solo se puede establecer como `DISABLED` (DESHABILITADO), pero no al revés.'
      type: string
      enum:
        - ENABLED
        - DISABLED
    Signer:
      description: Representa el dispositivo de firma que realiza las operaciones de encadenamiento y firma de facturas.
      type: object
      required:
        - certificate
      properties:
        certificate:
          $ref: '#/components/schemas/Certificate'
      additionalProperties: false
    SignerResources:
      description: Representación de recursos de firma.
      type: object
      required:
        - results
      properties:
        results:
          type: array
          items:
            $ref: '#/components/schemas/SignerResource'
        pagination:
          $ref: '#/components/schemas/Pagination'
      additionalProperties: false
    SignerResource:
      description: Representación de un recurso de firma.
      type: object
      required:
        - content
      properties:
        content:
          $ref: '#/components/schemas/SigningDevice'
        metadata:
          $ref: '#/components/schemas/Metadata'
      additionalProperties: false
    SigningDevice:
      description: Se utiliza un dispositivo de firma para firmar y encadenar facturas. Internamente utiliza un certificado de dispositivo proporcionado por fiskaly GmbH. También añade los datos de información de software requeridos a las facturas.
      type: object
      required:
        - id
        - state
        - certificate
      properties:
        id:
          $ref: '#/components/schemas/UniversallyUniqueIdentifierV4'
        state:
          $ref: '#/components/schemas/SignerState'
        certificate:
          $ref: '#/components/schemas/SignerCertificate'
      additionalProperties: false
    Client:
      description: 'Representa un dispositivo de facturación al que accede una aplicación de facturación, ya sea que acceda o no a un servidor remoto para este propósito. Por ejemplo, en el caso de una aplicación basada en web, el número de serie del dispositivo de facturación será el del dispositivo en el que está instalado el navegador, y no el del servidor remoto al que accede para operar la aplicación.'
      type: object
      properties:
        signer_id:
          description: Identificador de un dispositivo firmante ya creado.
          oneOf:
            - $ref: '#/components/schemas/UniversallyUniqueIdentifierV4'
      additionalProperties: false
    ClientResources:
      description: Representación de los recursos de clientes.
      type: object
      required:
        - results
      properties:
        results:
          type: array
          items:
            $ref: '#/components/schemas/ClientResource'
        pagination:
          $ref: '#/components/schemas/Pagination'
      additionalProperties: false
    ClientResource:
      description: Representación del recurso cliente.
      type: object
      required:
        - content
      properties:
        content:
          $ref: '#/components/schemas/ClientDevice'
        metadata:
          $ref: '#/components/schemas/Metadata'
      additionalProperties: false
    ClientDevice:
      description: 'Representación de una abstracción de cliente TicketBAI y Verifactu proporcionando la información específica del cliente, así como la información de estado del cliente.'
      type: object
      required:
        - id
        - state
        - signer
      properties:
        id:
          $ref: '#/components/schemas/UniversallyUniqueIdentifierV4'
        state:
          $ref: '#/components/schemas/ClientState'
        signer:
          $ref: '#/components/schemas/ClientSigner'
      additionalProperties: false
    Invoice:
      description: |
        Una factura puede ser del tipo `SIMPLIFIED` (SIMPLIFICADA), `COMPLETE` (ORDINARIA), `CORRECTING` (RECTIFICATIVA), `ENRICHMENT` (CANJE), `REMEDY` (SUBSANAR) or `EXTERNAL` (EXTERNA).

        - `SIMPLIFIED`: Se puede emitir para importes de hasta 400 EUR (IVA incluido) o hasta 3.000 EUR (IVA incluido) en varios casos (ventas al por menor, servicios de ambulancias, servicios a domicilio de los clientes, transporte de personas y sus equipajes, servicios de hostelería y restauración, salas de baile, y clubes nocturnos, entre otros). 
          Para obtener más información, visita la [página de la autoridad tributaria](https://sede.agenciatributaria.gob.es/Sede/iva/facturacion-registro/facturacion-iva/tipos-factura.html). 
          También se pueden emitir facturas simplificadas al rectificar una factura y para facturas autorizadas por el departamento de gestión tributaria.

        - `COMPLETE`: Deberán emitirse en los casos en que no se permita la emisión de una factura simplificada.
          Incluye datos del destinatario de la factura: Número de identificación fiscal (NIF) o identificación del destinatario de otros países, nombre completo o denominación social y domicilio con código postal.
          Se indica el desglose a nivel de factura para destinatarios nacionales o a nivel de operación para la prestación de servicios o entrega de bienes cuando el destinatario no es nacional.

        - `CORRECTING`: Debe emitirse en los casos en que no se cumplan uno o más requisitos de los artículos 6 (contenido de la factura) y 7 (contenido de la factura simplificada) del [reglamento de facturación](https://www.boe.es/buscar/act.php?id=BOE-A-2012-14696), o cuando la modificación de la base imponible conforme al artículo 80 de la [ley 37/1992](https://www.boe.es/buscar/act.php?id=BOE-A-1992-28740) ha ocurrido. 
          Para obtener más detalles, consulta la [página de información de autoridad tributaria](https://sede.agenciatributaria.gob.es/Sede/iva/facturacion-registro/facturacion-iva/facturas-rectificativas.html).

        - `ENRICHMENT`: Se puede emitir si la factura original no posee un destinatario y el único cambio es añadir uno o más destinatarios a la factura.

        - `REMEDY`: Se puede emitir para subsanar datos de una factura en aquellos casos donde no se requiere corregir mediante una factura rectificativa, acorde al Reglamento de Facturación. Actualmente, solo se podrán subsanar facturas de contribuyentes en territorios donde aplique TicketBAI.

        - `EXTERNAL`: Se pueden emplear para crear facturas que ya han sido emitidas, pero no fueron emitidas con **SIGN ES**. Las facturas externas nunca serán firmadas o registradas con la autoridad tributaria y no podrán ser anuladas. Las facturas externas podrán ser modificadas mediante las facturas `CORRECTING` y `ENRICHMENT`.
      discriminator:
        propertyName: type
        mapping:
          SIMPLIFIED: '#/components/schemas/SimplifiedInvoice'
          COMPLETE: '#/components/schemas/CompleteInvoice'
          CORRECTING: '#/components/schemas/CorrectingInvoice'
          ENRICHMENT: '#/components/schemas/EnrichmentInvoice'
          REMEDY: '#/components/schemas/RemedyInvoice'
          EXTERNAL: '#/components/schemas/ExternalInvoice'
      oneOf:
        - $ref: '#/components/schemas/SimplifiedInvoice'
        - $ref: '#/components/schemas/CompleteInvoice'
        - $ref: '#/components/schemas/CorrectingInvoice'
        - $ref: '#/components/schemas/EnrichmentInvoice'
        - $ref: '#/components/schemas/RemedyInvoice'
        - $ref: '#/components/schemas/ExternalInvoice'
    SimplifiedInvoice:
      description: Una factura simplificada.
      type: object
      required:
        - type
        - number
        - text
        - full_amount
        - items
      properties:
        type:
          type: string
          enum:
            - SIMPLIFIED
        number:
          description: "Número que identifica a la factura emitida.\r\n\r\nLa numeración dentro de cada serie debe ser correlativa. Se recomienda utilizar únicamente números."
          allOf:
            - $ref: '#/components/schemas/TicketbaiInvoiceIdentifier'
        series:
          description: "Número de serie de la factura.\r\n\r\nReferirse a la [Normativa de Facturación](https://www.boe.es/buscar/act.php?id=BOE-A-2012-14696) en España para comprender cuándo debe utilizarse un nuevo número de serie (por ejemplo, para facturas rectificativas)\r\n   - Evitar las letras I, O y W para mejor legibilidad.\r\n   - Se recomienda utilizar un único caracter especial para separaciones: `-/._`\r\n   - Se recomienda utilizar diferentes series para cada sistema TPV."
          allOf:
            - $ref: '#/components/schemas/TicketbaiInvoiceIdentifier'
        issued_at:
          description: |+
            La fecha y hora (en zona horaria UTC y formato `DD-MM-AAAA hh:mm:ss`) de emisión de la factura. 

            Si se omite el timestamp, se utilizará por defecto la fecha y hora de la solicitud de emisión.

          allOf:
            - $ref: '#/components/schemas/InvoiceTimestamp'
        transaction_date:
          description: |
            La fecha (en zona horaria UTC, y formato `DD-MM-AAAA`) en la que se llevó a cabo la operación.
          allOf:
            - $ref: '#/components/schemas/DateFormat10'
        text:
          description: 'Texto descriptivo de la factura de hasta 250 caracteres que proporciona una descripción general de las operaciones contenidas en la factura. Cuando se aplique la protección de datos según el artículo 9 de la ley 679/2016, entonces se indicará “Información protegida por el Artículo 9 Reglamento 679/2016”, y si se trata de una factura rectificativa, se deberá indicar la causa de la corrección (rectificación).'
          allOf:
            - $ref: '#/components/schemas/InvoiceText'
        full_amount:
          description: 'Importe total en EUR (€) de la factura, incluyendo el IVA.'
          allOf:
            - $ref: '#/components/schemas/Decimal12p2'
        items:
          $ref: '#/components/schemas/InvoiceItems'
      additionalProperties: false
    InvoiceText:
      allOf:
        - $ref: '#/components/schemas/ExtendedSpecialAlphaNumerical250'
    InvoiceItems:
      description: Múltiples elementos o líneas de la factura.
      type: array
      minItems: 1
      maxItems: 1000
      items:
        $ref: '#/components/schemas/InvoiceItem'
    InvoiceItem:
      description: Representación de una línea de factura con información detallada.
      type: object
      required:
        - text
        - quantity
        - unit_amount
        - full_amount
        - system
      properties:
        text:
          description: Texto de hasta 250 caracteres de descripción de la línea de factura.
          allOf:
            - $ref: '#/components/schemas/InvoiceText'
        quantity:
          description: Cantidad del artículo de la factura.
          allOf:
            - $ref: '#/components/schemas/Decimal12p8'
        unit_amount:
          description: Importe unitario en EUR (€) del elemento de la factura sin incluir el IVA y antes de aplicar descuentos.
          allOf:
            - $ref: '#/components/schemas/Decimal12p8'
        full_amount:
          description: |-
            Importe total en EUR (€) de la línea de factura, incluyendo el IVA.

            Este importe debe reflejar el precio unitario (`unit_amount`) con IVA, multiplicado por la cantidad del producto (`quantity`).

            En caso de que el impuesto se pague en otro pais europeo (`NON_TAXABLE_3`), el importe también debe incluir el IVA.
          allOf:
            - $ref: '#/components/schemas/Decimal12p8'
        discount:
          description: 'Importe del descuento en EUR (€) del descuento aplicable del artículo de la factura. Si no se proporciona, el valor predeterminado es `0.00`.'
          allOf:
            - $ref: '#/components/schemas/Decimal12p8'
        concept:
          description: |-
            El concepto identifica cada línea de la factura como `INTERNATIONAL_GOOD` para el suministro de bienes o `INTERNATIONAL_SERVICE` para la prestación de servicios, ambos aplicables sólo a los destinatarios no nacionales. Si no se proporciona, el valor por defecto es `NATIONAL_OR_SIMPLIFIED` porque el artículo forma parte de una factura con destinatario(s) español(es) o corresponde a una factura simplificada.

            **IMPORTANTE**: el concepto es obligatorio si la factura es de tipo `COMPLETE` y contiene destinatarios no nacionales.
          allOf:
            - $ref: '#/components/schemas/InvoiceConcept'
        vat_type:
          description: Impuesto que se aplica a un artículo de factura.
          allOf:
            - $ref: '#/components/schemas/InvoiceItemVatType'
        system:
          description: |-
            Sistema de facturación de la partida de factura que es una abstracción de los códigos de régimen de IVA en España propuestos a nivel de línea de factura ya que se pueden indicar hasta 3 códigos de régimen de IVA en la misma factura TicketBAI, o 12 códigos de régimen de IVA para una factura Verifactu, siempre que las combinaciones sean válidas y aceptadas por el sistema:
              - `REGULAR` corresponde a operaciones en régimen general.
              - `SIMPLIFIED_REGIME` corresponde a operaciones en régimen simplificado.
              - `EQUIVALENCE_SURCHARGE` corresponde a operaciones en las que el emisor de la factura se acoge al régimen de recargo de equivalencia.
              - `EXPORT` corresponde a transacciones en régimen de exportación.
          allOf:
            - $ref: '#/components/schemas/InvoiceSystem'
      additionalProperties: false
    InvoiceConcept:
      description: Concepto económico de una línea de factura.
      type: string
      enum:
        - NATIONAL_OR_SIMPLIFIED
        - INTERNATIONAL_GOOD
        - INTERNATIONAL_SERVICE
    InvoiceSystem:
      description: Sistema de factura de una línea de factura.
      discriminator:
        propertyName: type
        mapping:
          REGULAR: '#/components/schemas/InvoiceRegularSystem'
          SIMPLIFIED_REGIME: '#/components/schemas/InvoiceSimplifiedRegimeSystem'
          EQUIVALENCE_SURCHARGE: '#/components/schemas/InvoiceEquivalenceSurchargeSystem'
          EXPORT: '#/components/schemas/InvoiceExportSystem'
      oneOf:
        - $ref: '#/components/schemas/InvoiceRegularSystem'
        - $ref: '#/components/schemas/InvoiceSimplifiedRegimeSystem'
        - $ref: '#/components/schemas/InvoiceEquivalenceSurchargeSystem'
        - $ref: '#/components/schemas/InvoiceExportSystem'
    InvoiceRegularSystem:
      description: Régimen ordinario de IVA.
      type: object
      required:
        - type
        - category
      properties:
        type:
          type: string
          enum:
            - REGULAR
        category:
          description: Categoría de IVA de un artículo de la factura.
          allOf:
            - $ref: '#/components/schemas/InvoiceCategory'
      additionalProperties: false
    InvoiceSimplifiedRegimeSystem:
      description: Régimen simplificado del IVA.
      type: object
      required:
        - type
        - category
      properties:
        type:
          type: string
          enum:
            - SIMPLIFIED_REGIME
        category:
          description: Categoría de IVA de un artículo de la factura.
          allOf:
            - $ref: '#/components/schemas/InvoiceCategory'
      additionalProperties: false
    InvoiceEquivalenceSurchargeSystem:
      description: Régimen de recargo de equivalencia del IVA.
      type: object
      required:
        - type
        - category
      properties:
        type:
          type: string
          enum:
            - EQUIVALENCE_SURCHARGE
        category:
          description: Categoría de IVA de una línea de factura.
          allOf:
            - $ref: '#/components/schemas/InvoiceCategory'
      additionalProperties: false
    InvoiceExportSystem:
      description: Régimen de exportación.
      type: object
      required:
        - type
        - cause
      properties:
        type:
          type: string
          enum:
            - EXPORT
        cause:
          description: |-
            La causa de exención `cause` puede ser una de las siguientes:
              - `TAXABLE_EXEMPT_1` Exenta por el artículo 20 de la Ley de IVA.
              - `TAXABLE_EXEMPT_2` Exenta por el artículo 21 de la Ley de IVA.
              - `TAXABLE_EXEMPT_3` Exenta por el artículo 23 de la Ley de IVA.
              - `TAXABLE_EXEMPT_4` Exenta por el artículo 23 y 24 de la Ley de IVA.
              - `TAXABLE_EXEMPT_5` Exenta por el artículo 25 de la Ley de IVA.
              - `TAXABLE_EXEMPT_6` Exenta por otra causa.
          type: string
          oneOf:
            - $ref: '#/components/schemas/TaxableExemptCause'
      additionalProperties: false
    InvoiceCategory:
      description: |-
        Categoría de una línea de factura:
          - `VAT` operaciones sujetas, no exentas al IVA, sin inversión del sujeto pasivo. El IVA por defecto es 21%, pero también podrá ser  0%, 4%, 7%, 8%, 10%, 16% y 18%.
          - `NO_VAT` operaciones sujetas, exentas de IVA con las causas E1 a E6 o no sujetas. ([Ley del IVA](https://www.boe.es/buscar/act.php?id=BOE-A-1992-28740))
          - `INVERSE_VAT` operaciones en las que el receptor de la factura declara el IVA.
      discriminator:
        propertyName: type
        mapping:
          VAT: '#/components/schemas/InvoiceWithVatCategory'
          NO_VAT: '#/components/schemas/InvoiceWithoutVatCategory'
          INVERSE_VAT: '#/components/schemas/InvoiceInverseVatCategory'
      oneOf:
        - $ref: '#/components/schemas/InvoiceWithVatCategory'
        - $ref: '#/components/schemas/InvoiceWithoutVatCategory'
        - $ref: '#/components/schemas/InvoiceInverseVatCategory'
    InvoiceItemVatType:
      type: string
      enum:
        - IVA
        - IPSI
        - IGIC
        - OTHER
    InvoiceAdditionalVat:
      description: Detalles del recargo de equivalencia para la línea de factura.
      type: object
      required:
        - rate
        - amount
      properties:
        rate:
          description: |-
            Tipo de recargo de equivalencia (porcentaje) de la línea de la factura.

            Valores comúnes de recargo de equivalencia: 0.26%, 0.3%, 0.5%, 0.62%, 0.7%, 0.95%, 1%, 1.35%, 1.4%, 1.75%, 2%, y 5.2%.
          allOf:
            - $ref: '#/components/schemas/UnsignedDecimal3p2'
        amount:
          description: Cuota del recargo de equivalencia (en euros) de la línea de la factura.
          allOf:
            - $ref: '#/components/schemas/Decimal12p2'
      additionalProperties: false
    InvoiceWithVatCategory:
      description: Línea de factura con IVA.
      type: object
      required:
        - type
      properties:
        type:
          type: string
          enum:
            - VAT
        rate:
          description: "Tipo de IVA (porcentaje) de la línea de factura. \r\nSi no se indica, se utiliza el valor predeterminado de `21.0` Los valores típicos de IVA son 0%, 2%, 4%, 5%, 7%, 7.5%, 8%, 10%, 16%, 18% y 21%."
          allOf:
            - $ref: '#/components/schemas/UnsignedDecimal3p2'
        additional_vat:
          description: |-
            Información del recargo de equivalencia para un artículo de la factura.
            Este campo debe utilizarse si el recargo de equivalencia es [aplicable a la operación](https://sede.agenciatributaria.gob.es/Sede/en_gb/ayuda/manuales-videos-folletos/manuales-practicos/manual-iva-2021/capitulo-6-regimenes-especiales-iva/regimen-especial-recargo-equivalencia/aplicacion-recargo-equivalencia.html), exclusivamente cuando el destinatario de la operación sea un comerciante minorista acogido a dicho régimen.
          allOf:
            - $ref: '#/components/schemas/InvoiceAdditionalVat'
      additionalProperties: false
    InvoiceWithoutVatCategory:
      description: Línea de factura sin IVA.
      type: object
      required:
        - type
        - cause
      properties:
        type:
          type: string
          enum:
            - NO_VAT
        cause:
          description: |-
            La 'causa' puede ser un tipo de exención imponible o un tipo no imponible:
              - `TAXABLE_EXEMPT_1` Exenta por el artículo 20 de la Ley de IVA.
              - `TAXABLE_EXEMPT_2` Exenta por el artículo 21 de la Ley de IVA.
              - `TAXABLE_EXEMPT_3` Exenta por el artículo 23 de la Ley de IVA.
              - `TAXABLE_EXEMPT_4` Exenta por el artículo 23 y 24 de la Ley de IVA.
              - `TAXABLE_EXEMPT_5` Exenta por el artículo 25 de la Ley de IVA.
              - `TAXABLE_EXEMPT_6` Exenta por otra causa.
              - `NON_TAXABLE_1` es una operación no sujeta por el artículo 7 de la Ley del IVA. Otros supuestos de no sujeción.
              - `NON_TAXABLE_2` es una operación no sujeta por reglas de localización.
              - `NON_TAXABLE_3` es una operación no sujeta en el TAI por reglas de localización, pero repercute impuesto extranjero, IPSI/IGIC o IVA.
              - `NON_TAXABLE_4` es una operación no sujeta por ventas realizadas por cuenta de terceros (importe no computable a efectos de IVA ni de IRPF).
          allOf:
            - $ref: '#/components/schemas/InvoiceWithoutVatCause'
      additionalProperties: false
    InvoiceInverseVatCategory:
      description: Categoría de la línea de factura con inversión del sujeto pasivo.
      type: object
      required:
        - type
      properties:
        type:
          type: string
          enum:
            - INVERSE_VAT
      additionalProperties: false
    TaxableExemptCause:
      type: string
      enum:
        - TAXABLE_EXEMPT_1
        - TAXABLE_EXEMPT_2
        - TAXABLE_EXEMPT_3
        - TAXABLE_EXEMPT_4
        - TAXABLE_EXEMPT_5
        - TAXABLE_EXEMPT_6
    NotTaxableCause:
      type: string
      enum:
        - NON_TAXABLE_1
        - NON_TAXABLE_2
        - NON_TAXABLE_3
        - NON_TAXABLE_4
    InvoiceWithoutVatCause:
      type: string
      oneOf:
        - $ref: '#/components/schemas/TaxableExemptCause'
        - $ref: '#/components/schemas/NotTaxableCause'
    CompleteInvoice:
      description: Una factura ordinaria (o no simplificada).
      type: object
      required:
        - type
        - data
        - recipients
      properties:
        type:
          type: string
          enum:
            - COMPLETE
        data:
          $ref: '#/components/schemas/SimplifiedInvoice'
        recipients:
          $ref: '#/components/schemas/Recipients'
        vat_withholding:
          description: Importe de la retención soportada. El importe en EUR (€) de la retención que debe soportar el expedidor de la factura.
          allOf:
            - $ref: '#/components/schemas/Decimal12p2'
      additionalProperties: false
    CorrectingInvoice:
      description: Una factura rectificativa se puede utilizar para actualizar o reemplazar una factura ya registrada.
      type: object
      required:
        - type
        - id
        - invoice
      properties:
        type:
          type: string
          enum:
            - CORRECTING
        id:
          description: Identificador de una factura (ya creada).
          oneOf:
            - $ref: '#/components/schemas/UniversallyUniqueIdentifierV4'
        invoice:
          $ref: '#/components/schemas/CorrectionInvoice'
        method:
          $ref: '#/components/schemas/CorrectionMethod'
        code:
          $ref: '#/components/schemas/CorrectingInvoiceCode'
        coupon:
          $ref: '#/components/schemas/Coupon'
      additionalProperties: false
    EnrichmentInvoice:
      description: 'Una factura de canje se puede utilizar para incluir la información del receptor en una factura simplificada, generando una factura ordinaria.'
      type: object
      required:
        - type
        - id
        - number
        - recipients
      properties:
        type:
          type: string
          enum:
            - ENRICHMENT
        id:
          description: Identificador de una factura ya creada. La factura indicada debe ser una factura simplificada.
          oneOf:
            - $ref: '#/components/schemas/UniversallyUniqueIdentifierV4'
        number:
          description: |-
            Número que identifica la factura que está siendo emitida.

            La numeración de las facturas dentro de cada serie debe ser correlativa. Se recomienda utilizar únicamente números.
          allOf:
            - $ref: '#/components/schemas/TicketbaiInvoiceIdentifier'
        series:
          description: |-
            Número de serie que identifica la factura.

            Referirse a la [Normativa de Facturación](https://www.boe.es/buscar/act.php?id=BOE-A-2012-14696) en España para comprender cuándo debe utilizarse un nuevo número de serie (por ejemplo, para facturas rectificativas)
               - Evitar las letras I, O y W para mejor legibilidad.
               - Se recomienda utilizar un único caracter especial para separaciones: `-/._`
          allOf:
            - $ref: '#/components/schemas/TicketbaiInvoiceIdentifier'
        issued_at:
          description: |+
            La fecha y hora (en zona horaria UTC y formato `DD-MM-AAAA hh:mm:ss`) de emisión de la factura. 

            Si se omite el timestamp, se utilizará por defecto la fecha y hora de la solicitud de emisión.

          allOf:
            - $ref: '#/components/schemas/InvoiceTimestamp'
        recipients:
          $ref: '#/components/schemas/Recipients'
      additionalProperties: false
    RemedyInvoice:
      description: Una factura de subsanación.
      type: object
      required:
        - type
        - id
      properties:
        type:
          type: string
          enum:
            - REMEDY
        id:
          description: 'Identificador de una factura ya creada. La factura indicada debe ser una factura que no haya sido modificada mediante otra subsanación, corrección o modificada con factura de canje.'
          oneOf:
            - $ref: '#/components/schemas/UniversallyUniqueIdentifierV4'
        invoice:
          $ref: '#/components/schemas/RemedyingInvoice'
      additionalProperties: false
    RemedyingInvoice:
      description: |
        Describe la factura de subsanación. Se podrán subsanar facturas de tipo `SIMPLIFIED`, `COMPLETE` y `CORRECTING` que ya hayan sido emitidas empleando el mismo número, serie y fecha de expedición.
      discriminator:
        propertyName: type
        mapping:
          SIMPLIFIED: '#/components/schemas/SimplifiedInvoice'
          COMPLETE: '#/components/schemas/CompleteInvoice'
          CORRECTING: '#/components/schemas/CorrectingInvoice'
      oneOf:
        - $ref: '#/components/schemas/SimplifiedInvoice'
        - $ref: '#/components/schemas/CompleteInvoice'
        - $ref: '#/components/schemas/CorrectingInvoice'
    ExternalInvoice:
      description: Una factura externa.
      type: object
      required:
        - type
        - data
      properties:
        type:
          type: string
          enum:
            - EXTERNAL
        data:
          $ref: '#/components/schemas/ExternalInvoiceData'
      additionalProperties: false
    ExternalInvoiceData:
      description: |-
        Información detallada de la factura externa.

        La factura puede ser ordinaria o simplificada. Si la factura externa es una factura rectificativa, se debe proporcionar al completo como una factura simplificada o compleja, incluyendo los datos corregidos.
      discriminator:
        propertyName: type
        mapping:
          SIMPLIFIED: '#/components/schemas/SimplifiedInvoice'
          COMPLETE: '#/components/schemas/CompleteInvoice'
      oneOf:
        - $ref: '#/components/schemas/SimplifiedInvoice'
        - $ref: '#/components/schemas/CompleteInvoice'
    CorrectionMethod:
      description: 'Método utilizado para la rectificación. Puede ser por "SUSTITUCIÓN" o "DIFERENCIAS". Por defecto, se utiliza por "SUSTITUCIÓN".'
      type: string
      enum:
        - SUBSTITUTION
        - DIFFERENCES
    CorrectionInvoice:
      description: Corrección de datos de la factura
      discriminator:
        propertyName: type
        mapping:
          SIMPLIFIED: '#/components/schemas/SimplifiedInvoice'
          COMPLETE: '#/components/schemas/CompleteInvoice'
      oneOf:
        - $ref: '#/components/schemas/SimplifiedInvoice'
        - $ref: '#/components/schemas/CompleteInvoice'
    Coupon:
      description: 'Identificador que especifica si la factura tiene minoración de la base imponible por la concesión de cupones, bonificaciones o descuentos cuando solo se expide el original de la factura.'
      type: boolean
    InvoiceResources:
      description: Representación de recursos de facturas.
      type: object
      required:
        - results
      properties:
        results:
          type: array
          items:
            $ref: '#/components/schemas/InvoiceResource'
        pagination:
          $ref: '#/components/schemas/Pagination'
      additionalProperties: false
    InvoiceResource:
      description: Representación de un recurso de factura.
      type: object
      required:
        - content
      properties:
        content:
          $ref: '#/components/schemas/SignedInvoice'
        annotations:
          $ref: '#/components/schemas/Annotations'
        metadata:
          $ref: '#/components/schemas/Metadata'
      additionalProperties: false
    SignedInvoice:
      description: 'Representación de una factura TicketBAI proporcionando el identificador TBAI, el código QR, la URL de validación QR y el estado de comunicación y sincronización dentro del sistema **SIGN ES** de una factura.'
      type: object
      required:
        - id
        - issued_at
        - signer
        - client
        - data
        - compliance
        - state
        - transmission
      properties:
        id:
          $ref: '#/components/schemas/UniversallyUniqueIdentifierV4'
        signer:
          $ref: '#/components/schemas/InvoiceSigner'
        client:
          $ref: '#/components/schemas/InvoiceClient'
        issued_at:
          $ref: '#/components/schemas/InvoiceTimestamp'
        data:
          $ref: '#/components/schemas/InvoiceData'
        compliance:
          $ref: '#/components/schemas/SignedInvoiceCompliance'
        correction:
          $ref: '#/components/schemas/SignedInvoiceCorrection'
        remedy:
          $ref: '#/components/schemas/SignedInvoiceRemedy'
        state:
          $ref: '#/components/schemas/InvoiceState'
        transmission:
          $ref: '#/components/schemas/SignedInvoiceTransmission'
        validations:
          $ref: '#/components/schemas/ValidationErrors'
      additionalProperties: false
    SignedInvoiceCompliance:
      description: Representación de la información de cumplimiento de factura creada en el proceso de firma de **SIGN ES**.
      oneOf:
        - $ref: '#/components/schemas/TicketbaiInvoiceCompliance'
        - $ref: '#/components/schemas/VerifactuInvoiceCompliance'
    InvoiceSigner:
      description: Representación de la información del dispositivo firmante para una factura dada.
      type: object
      required:
        - id
      properties:
        id:
          $ref: '#/components/schemas/UniversallyUniqueIdentifierV4'
      additionalProperties: false
    InvoiceClient:
      description: Representación de la información del cliente para una determinada factura.
      type: object
      required:
        - id
      properties:
        id:
          $ref: '#/components/schemas/UniversallyUniqueIdentifierV4'
      additionalProperties: false
    SignedInvoiceCorrection:
      description: Información opcional de identificación de una factura rectificativa si esta factura fue rectificada (corregida).
      type: object
      required:
        - id
      properties:
        id:
          $ref: '#/components/schemas/UniversallyUniqueIdentifierV4'
      additionalProperties: false
    SignedInvoiceRemedy:
      description: |
        Identificador de factura. Si está presente, hace referencia a una factura de subsanación `REMEDY` que subsanó este recurso de factura.
      type: object
      required:
        - id
      properties:
        id:
          $ref: '#/components/schemas/UniversallyUniqueIdentifierV4'
      additionalProperties: false
    InvoiceTimestamp:
      description: 'La fecha y hora (Zona horaria UTC y formato `DD-MM-AAAA hh:mm:ss`) de emisión de la factura.'
      allOf:
        - $ref: '#/components/schemas/TimestampFormat19'
    InvoiceData:
      description: Representación de los datos de la factura como cadena JSON.
      oneOf:
        - $ref: '#/components/schemas/InvoiceJsonData'
    InvoiceJsonData:
      type: string
    InvoiceExport:
      description: Representación de la exportación de una factura.
      type: object
      required:
        - content
      properties:
        content:
          $ref: '#/components/schemas/InvoiceCommunicationExport'
      additionalProperties: false
    ExportResources:
      description: Representación de recursos de exportación.
      type: object
      required:
        - results
      properties:
        results:
          type: array
          items:
            $ref: '#/components/schemas/ExportResource'
        pagination:
          $ref: '#/components/schemas/Pagination'
      additionalProperties: false
    ExportResource:
      description: Representación de un recurso de exportación.
      type: object
      required:
        - content
      properties:
        content:
          $ref: '#/components/schemas/Export'
        metadata:
          $ref: '#/components/schemas/Metadata'
      additionalProperties: false
    SoftwareResource:
      description: Representación de un recurso de software.
      type: object
      required:
        - content
      properties:
        content:
          $ref: '#/components/schemas/Software'
      additionalProperties: false
    Software:
      description: Representa información sobre el software.
      type: object
      required:
        - company
        - name
        - license
        - version
      properties:
        company:
          $ref: '#/components/schemas/NationalIdentification'
        name:
          $ref: '#/components/schemas/AlphaNumerical120'
        license:
          $ref: '#/components/schemas/AlphaNumerical20'
        version:
          $ref: '#/components/schemas/AlphaNumerical20'
        responsibility_declaration:
          $ref: '#/components/schemas/ResponsibilityDeclarationURL'
      additionalProperties: false
    NationalIdentification:
      description: Representa información sobre un emisor nacional (nombre legal y número de identificación fiscal).
      type: object
      required:
        - legal_name
        - tax_number
      properties:
        legal_name:
          $ref: '#/components/schemas/LegalName'
        tax_number:
          $ref: '#/components/schemas/TaxNumber'
      additionalProperties: false
    LegalName:
      description: 'El nombre legal puede ser tanto apellido(s) y nombre(s), la razón social o un nombre comercial.'
      allOf:
        - $ref: '#/components/schemas/ExtendedAlphaNumerical120'
    TaxNumber:
      description: El número de identificación fiscal (NIF) de un contribuyente.
      allOf:
        - $ref: '#/components/schemas/TicketbaiTaxNumber'
    ResponsibilityDeclarationURL:
      description: URL del fichero de declaración de responsabilidad de la solución SIGN ES. Actualmente sólo presente para la legislación verifactu.
      allOf:
        - $ref: '#/components/schemas/UniformResourceIdentifier'
      example: 'https://live.es.sign.fiskaly.com/api/v1/verifactu/responsibility_declaration.pdf'
    InvoiceCommunicationExport:
      description: 'Representa el registro completo de transmisión que contiene los archivos de alta `registration`. Además, si el registro se anuló, también contiene los archivos de anulación `cancellation`.'
      type: object
      required:
        - registration
      properties:
        registration:
          $ref: '#/components/schemas/InvoiceCommunication'
        cancellation:
          $ref: '#/components/schemas/InvoiceCommunication'
      additionalProperties: false
    Export:
      description: Representación de una exportación de factura solicitada.
      type: object
      required:
        - id
        - state
        - requested_at
      properties:
        id:
          $ref: '#/components/schemas/UniversallyUniqueIdentifierV4'
        state:
          $ref: '#/components/schemas/ExportState'
        requested_at:
          $ref: '#/components/schemas/ExportRequestedTimestamp'
        started_at:
          $ref: '#/components/schemas/ExportStartedTimestamp'
        finished_at:
          $ref: '#/components/schemas/ExportFinishedTimestamp'
        expires_at:
          $ref: '#/components/schemas/ExportExpiresTimestamp'
        download:
          $ref: '#/components/schemas/ExportDownload'
      additionalProperties: false
    ExportRequestedTimestamp:
      description: 'La fecha y hora (en zona horaria UTC y formato `DD-MM-AAAA hh:mm:ss`) de cuando la exportación ha sido solicitada.'
      allOf:
        - $ref: '#/components/schemas/TimestampFormat19'
    ExportStartedTimestamp:
      description: 'La fecha y hora (en zona horaria UTC y formato `DD-MM-AAAA hh:mm:ss`) de cuando la exportación ha comenzado.'
      allOf:
        - $ref: '#/components/schemas/TimestampFormat19'
    ExportFinishedTimestamp:
      description: 'La fecha y hora (en zona horaria UTC y formato `DD-MM-AAAA hh:mm:ss`) de cuando ha finalizado la exportación.'
      allOf:
        - $ref: '#/components/schemas/TimestampFormat19'
    ExportExpiresTimestamp:
      description: 'La fecha y hora (en zona horaria UTC y formato `DD-MM-AAAA hh:mm:ss`) de cuando caduca la exportación.'
      allOf:
        - $ref: '#/components/schemas/TimestampFormat19'
    ExportDownload:
      description: Información sobre una descarga de exportación.
      type: object
      required:
        - url
        - size
        - checksum
      properties:
        url:
          $ref: '#/components/schemas/UniformResourceIdentifier'
        size:
          $ref: '#/components/schemas/ByteSize'
        checksum:
          $ref: '#/components/schemas/ExportChecksum'
      additionalProperties: false
    ExportChecksum:
      description: Representa la información del checksum de una exportación descargable.
      discriminator:
        propertyName: type
        mapping:
          MD5: '#/components/schemas/MessageDigestMethod5'
      oneOf:
        - $ref: '#/components/schemas/MessageDigestMethod5'
    MessageDigestMethod5:
      description: Información de un checksum MD5.
      type: object
      required:
        - type
        - value
      properties:
        type:
          type: string
          enum:
            - MD5
        hash:
          description: Suma de verificación MD5 de una carga útil.
          type: string
          pattern: '^[0-9a-fA-F]{32}$'
          minLength: 32
          maxLength: 32
          example: c6779ec2960296ed9a04f08d67f64422
      additionalProperties: false
    InvoiceCommunication:
      description: Representa el archivo enviado a la autoridad tributaria (`solicitud`) y un archivo opcional con la `respuesta`.
      type: object
      required:
        - request
      properties:
        request:
          $ref: '#/components/schemas/TransmissionFile'
        response:
          $ref: '#/components/schemas/TransmissionFile'
      additionalProperties: false
    Recipients:
      description: Representación de uno o varios destinatarios de facturas.
      type: array
      minItems: 1
      maxItems: 100
      items:
        $ref: '#/components/schemas/Recipient'
    Recipient:
      description: Representación de un destinatario de factura.
      type: object
      required:
        - id
        - address_line
        - postal_code
      properties:
        id:
          $ref: '#/components/schemas/Identification'
        address_line:
          $ref: '#/components/schemas/AddressLine'
        postal_code:
          $ref: '#/components/schemas/PostalCode'
      additionalProperties: false
    Identification:
      description: Representación de un número de identificación fiscal para un destinatario de factura.
      oneOf:
        - $ref: '#/components/schemas/NationalIdentification'
        - $ref: '#/components/schemas/InternationalIdentification'
    InternationalIdentification:
      description: Representa la información de una identificación internacional.
      type: object
      required:
        - legal_name
        - type
        - number
        - country_code
      properties:
        legal_name:
          $ref: '#/components/schemas/LegalName'
        type:
          $ref: '#/components/schemas/IdentificationType'
        number:
          $ref: '#/components/schemas/IdentificationNumber'
        country_code:
          $ref: '#/components/schemas/CountryCode'
      additionalProperties: false
    IdentificationType:
      description: |-
        Tipos de identificación predefinidos por la legislación española:
          - `"TAX_NUMBER"`  representa un número de identificación fiscal (NIF) o un número de registro del IVA 
          - `"PASSPORT"`    representa un número de pasaporte
          - `"DOCUMENT"`    representa un documento de identificación oficial expedido por el país de origen
          - `"CERTIFICATE"` representa un certificado de residencia expedido por el país de residencia
          - `"OTHER"`       representa cualquier otra forma de documento de identificación
      type: string
      enum:
        - TAX_NUMBER
        - PASSPORT
        - DOCUMENT
        - CERTIFICATE
        - OTHER
    IdentificationNumber:
      description: Representa el número de identificación o identificador en función del `IdentificationType`.
      allOf:
        - $ref: '#/components/schemas/AlphaNumerical20'
    AddressLine:
      description: 'Representa la información de ubicación: nombre de calle, número(s) de calle y ciudad.'
      allOf:
        - $ref: '#/components/schemas/ExtendedAlphaNumerical250'
    PostalCode:
      description: Representa la información del código postal.
      allOf:
        - $ref: '#/components/schemas/AlphaNumerical20'
    CountryCode:
      description: Representa la información del código de país.
      oneOf:
        - $ref: '#/components/schemas/CountryCode2'
    SignedInvoiceTransmission:
      description: Representa el estado de transmisión (sincronización) de la factura a los servicios de la autoridad fiscal territorial correspondiente. Incluye la información del estado del registro y de la anulación de la factura.
      type: object
      required:
        - registration
        - cancellation
      properties:
        registration:
          $ref: '#/components/schemas/SignedInvoiceRegistrationState'
        cancellation:
          $ref: '#/components/schemas/SignedInvoiceCancellationState'
      additionalProperties: false
    SignedInvoiceRegistrationState:
      description: "El estado de registro de una factura comienza con\r\n  - `PENDING` cuando la solicitud de registro aguarda ser procesada, puede resultar en\r\n  - `REGISTERED`, cuando el registro en el servidor de la autoridad tributaria fue exitoso,\r\n  - `REQUIRES_CORRECTION`, si la factura ha sido registrada con los servicios tributarios, pero se han detectado errores que requieren una corrección,\r\n  - `REQUIRES_INSPECTION` si la factura ha sido rechazada por los servicios tributarios con errores que requieren inspección,\r\n  - `STORED` si la factura ha sido almazenada en **SIGN ES** pero no se ha transmitido a los servidores de la autoridad tributaria,\r\n  - `INVALID` si no fue posible procesar la factura. También es el estado por defecto de facturas con tipo `EXTERNAL`."
      type: string
      enum:
        - PENDING
        - REGISTERED
        - STORED
        - REQUIRES_CORRECTION
        - REQUIRES_INSPECTION
        - INVALID
    SignedInvoiceCancellationState:
      description: "El estado de anulación de una factura comienza con\r\n  - `NOT_CANCELLED` por defecto. Puede resultar en \r\n  - `PENDING` cuando la solicitud de anulación aguarda ser procesada, \r\n  - `CANCELLED`, cuando la anulación fue exitosa,\r\n  - `REQUIRES_INSPECTION` si el error requiere inspección, \r\n  - `STORED` cuando se almacena en SIGN ES sin transmisión, o\r\n  - `INVALID` si es rechazada."
      type: string
      enum:
        - NOT_CANCELLED
        - PENDING
        - STORED
        - CANCELLED
        - REQUIRES_INSPECTION
        - INVALID
    TicketbaiInvoiceIdentifier:
      description: Representación del esquema del identificador predefinido según la normativa española.
      type: string
      pattern: '^[0-9A-Z_/\-\.]{1,20}$'
      minLength: 1
      maxLength: 20
      example: '2022'
    TicketbaiInvoiceCompliance:
      description: TBA
      type: object
      required:
        - tbai
        - url
        - code
      properties:
        tbai:
          $ref: '#/components/schemas/TicketbaiInvoiceCode'
        url:
          $ref: '#/components/schemas/TicketbaiValidationURL'
        code:
          $ref: '#/components/schemas/TicketbaiRepresentationCode'
      additionalProperties: false
    TicketbaiInvoiceCode:
      description: |-
        El código de factura TicketBAI es un identificador alfanumérico predefinido con una longitud fija de 39 caracteres y que consta de las siguientes partes:
          - `tax-number`El número de identificación fiscal de los contribuyentes rellenado con ceros hasta 9 caracteres. 
          - `issue-date` La fecha de emisión de la factura TicketBAI en formato `DDMMYY`.
          - `signature-head` Los 13 primeros caracteres de la firma de la factura TicketBAI.
          - `crc-value` El valor del código de detección de errores CRC basado en 8 bits de TicketBAI.
        Este código `TBAI-<tax-number>-<issue-date>-<signature-head>-<crc-value>` se utiliza en la información `TicketbaiValidationURL` proporcionada en el campo `url` del esquema `TicketbaiInvoiceCompliance`.
      type: string
      pattern: '^TBAI-[0-9A-Z]{9}-[0-9]{6}-[0-9A-Za-z]{13}-[0-9]{3}$'
      example: TBAI-00000006Y-251019-btFpwP8dcLGAF-237
    TicketbaiValidationURL:
      description: |-
        El TicketBAI [URL de validación] (https://developer.fiskaly.com/es/sign-es/invoicecompliance#qr-code) es un esquema de URL predefinido que apunta al servidor de la autoridad fiscal para validar la factura de TicketBAI correspondiente. Este esquema de URL consta de las siguientes partes:
        - `server` Ubicación del servidor de la autoridad fiscal del territorio de los contribuyentes
        - `code` El código de identificación TicketBAI de una factura TicketBAI.
        - `number` El identificador del número de factura de TicketBAI.
        - `series` El identificador de la serie de facturas de TicketBAI.
        - `amount` El importe total de la factura de TicketBAI.
        - `crc` El valor de correción de errores de verificación de redundancia cíclica (CRC) basado en 8 bits de TicketBAI. 
        Esta URL `https://<server>?id=<code>&nf=<number>&s=<series>&i=<amount>&cr=<crc>` se utiliza como contenido para crear la información `TicketbaiQuickResponseCode` proporcionada en el campo `code` del esquema `TicketbaiInvoiceCompliance`.
      type: string
      maxLength: 2048
      example: 'https://batuz.eus/QRTBAI/?id=TBAI-00000006Y-251019-btFpwP8dcLGAF-237&s=T&nf=27174&i=4.70&cr=007'
    TicketbaiRepresentationCode:
      discriminator:
        propertyName: type
        mapping:
          QR_CODE: '#/components/schemas/TicketbaiQuickResponseCode'
          CENTERED_CODE: '#/components/schemas/TicketbaiCenteredCode'
          PORTRAIT_CODE: '#/components/schemas/TicketbaiPortraitCode'
          LANDSCAPE_CODE: '#/components/schemas/TicketbaiLandscapeCode'
      description: |-
        Para cumplir con TicketBAI, la información de la factura del `TicketbaiInvoiceCode` y `TicketbaiQuickResponseCode` tiene que representarse en la factura real con [posicionamiento](https://developer.fiskaly.com/es/sign-es/invoicecompliance#position) específico. Por lo tanto, SIGN ES proporciona los siguientes códigos de representación TicketBAI:
        - El `TicketbaiQuickResponseCode` es una representación en [QR Code](https://developer.fiskaly.com/es/sign-es/invoicecompliance#qr-code) del contenido de `TicketbaiValidationURL` y se presenta como una imagen rasterizada en formato PNG (Portable Network Graphics). Cada rectángulo del código QR se representa como un único píxel para formar un mapa de bits muy compacto. 
        - El `TicketbaiCenteredCode` es una representación del "código centrado" [Centered Code](https://developer.fiskaly.com/es/sign-es/invoicecompliance#position) del contenido de `TicketbaiInvoiceCode` y `TicketbaiQuickResponseCode` adecuado para facturas con diseño de orientación vertical y horizontal.
          La representación del código se presenta como una imagen vectorial en formato SVG (Scalable Vector Graphics).
          La dimensión de la imagen SVG es de 50x54 milímetros (mm) y el punto de origen (x,y) (0mm,0mm) está en la esquina superior izquierda.
          La imagen SVG contiene el `TicketbaiInvoiceCode` representado como texto con una fuente Monospaced Sans Serif y un tamaño de fuente de 3mm (8.5pt).
          El `TicketbaiInvoiceCode` se representa como dos líneas en posición absoluta (4mm,4mm) y (10mm,8mm).
          El `CódigoFacturaTicketbai` se separa en dos líneas después del carácter menos de la fecha de emisión de la factura.
          La imagen SVG contiene la imagen PNG `TicketbaiQuickResponseCode` incrustada en la posición absoluta (10mm,18mm) con las dimensiones de 30x30 milímetros para dejar al menos un espacio en blanco de 6mm alrededor del código QR.

        - El `TicketbaiPortraitCode` es una representación del "código vertical" [Portrait Code](https://developer.fiskaly.com/es/sign-es/invoicecompliance#position) del contenido del `TicketbaiInvoiceCode` y del `TicketbaiQuickResponseCode` adecuada para facturas con diseño de orientación vertical. 
          La representación del código se presenta como una imagen vectorial en formato SVG (Scalable Vector Graphics).
          La dimensión de la imagen SVG es de 80x50 milímetros (mm) y el punto de origen (x,y) (0mm,0mm) está en la esquina superior izquierda.
          La imagen SVG contiene el `TicketbaiInvoiceCode` representado como texto con una fuente Monospaced Sans Serif y un tamaño de fuente de 3mm (8.5pt).
          El `TicketbaiInvoiceCode` se representa como una línea en posición absoluta (4mm,4mm).
          La imagen SVG contiene la imagen PNG `TicketbaiQuickResponseCode` incrustada en la posición absoluta (25mm,14mm) con las dimensiones de 30x30 milímetros para dejar al menos un espacio en blanco de 6mm alrededor del código QR.

        - El `TicketbaiLandscapeCode` es una representación del "código horizontal" [Landscape Code](https://developer.fiskaly.com/es/sign-es/invoicecompliance#position) del contenido del `TicketbaiInvoiceCode` y del `TicketbaiQuickResponseCode` adecuado para facturas con diseño de orientación horizontal.
          La representación del código se presenta como una imagen vectorial en formato SVG (Scalable Vector Graphics).
          La dimensión de la imagen SVG es de 80x50 milímetros (mm) y el punto de origen (x,y) (0mm,0mm) está en la esquina superior izquierda.
          La imagen SVG contiene el `TicketbaiInvoiceCode` representado como texto con una fuente Monospaced Sans Serif y un tamaño de fuente de 3mm (8.5pt).
          El `TicketbaiInvoiceCode` se representa como una línea en posición absoluta (4mm,4mm).
          La imagen SVG contiene la imagen PNG `TicketbaiQuickResponseCode` incrustada en la posición absoluta (40mm,14mm) con las dimensiones de 30x30 milímetros para dejar al menos un espacio en blanco de 6mm alrededor del código QR.

        Por defecto, la API devuelve el `TicketbaiQuickResponseCode`.
      oneOf:
        - $ref: '#/components/schemas/TicketbaiQuickResponseCode'
        - $ref: '#/components/schemas/TicketbaiCenteredCode'
        - $ref: '#/components/schemas/TicketbaiPortraitCode'
        - $ref: '#/components/schemas/TicketbaiLandscapeCode'
    VerifactuInvoiceCompliance:
      description: |
        The compliance information for signed Veri*factu invoices
      type: object
      required:
        - code
        - url
      properties:
        code:
          $ref: '#/components/schemas/VerifactuRepresentationCode'
        url:
          $ref: '#/components/schemas/VerifactuValidationURL'
        text:
          $ref: '#/components/schemas/VerifactuInvoiceText'
      additionalProperties: false
    VerifactuRepresentationCode:
      description: |
        The Veri*factu compliant Quick Response (QR) code which should be shown in the physical invoice.
      discriminator:
        propertyName: type
        mapping:
          QR_CODE: '#/components/schemas/VerifactuQuickResponseCode'
          PRINTABLE_CODE: '#/components/schemas/VerifactuPrintableCode'
      oneOf:
        - $ref: '#/components/schemas/VerifactuQuickResponseCode'
        - $ref: '#/components/schemas/VerifactuPrintableCode'
    VerifactuQuickResponseCode:
      type: object
      required:
        - type
        - image
      properties:
        type:
          type: string
          enum:
            - QR_CODE
        image:
          $ref: '#/components/schemas/RasterImage'
      additionalProperties: false
    VerifactuPrintableCode:
      type: object
      required:
        - type
        - image
      properties:
        type:
          type: string
          enum:
            - PRINTABLE_CODE
        image:
          $ref: '#/components/schemas/VectorImage'
      additionalProperties: false
    VerifactuValidationURL:
      description: |-
        La URL de validación VERI*FACTU es un esquema de URL predefinido que apunta al servidor de la autoridad fiscal para validar la factura VERI*FACTU correspondiente. Este esquema URL consta de las siguientes partes:
        - `issuer` El NIF del emisor.
        - `number` El identificador de la factura/número de serie VERI*FACTU.
        - `date` La fecha de emisión VERI*FACTU de la factura.
        - `amount` El importe total de la factura VERI*FACTU.
      type: string
      maxLength: 2048
      example: 'https://prewww2.aeat.es/wlpl/TIKE-CONT/ValidarQR?nif=12345678A&numserie=12341234&fecha=20-06-2024&importe=12.34'
    VerifactuInvoiceText:
      description: 'En caso de existir, este texto deberá imprimirse en la factura para indicar que es verificable en la sede electrónica de la AEAT.'
      type: string
    InvoiceRepresentationCode:
      type: string
      enum:
        - QR_CODE
        - CENTERED_CODE
        - PORTRAIT_CODE
        - LANDSCAPE_CODE
    TicketbaiQuickResponseCode:
      type: object
      required:
        - type
        - image
      properties:
        type:
          type: string
          enum:
            - QR_CODE
        image:
          $ref: '#/components/schemas/RasterImage'
      additionalProperties: false
    TicketbaiCenteredCode:
      type: object
      required:
        - type
        - image
      properties:
        type:
          type: string
          enum:
            - CENTERED_CODE
        image:
          $ref: '#/components/schemas/VectorImage'
      additionalProperties: false
    TicketbaiPortraitCode:
      type: object
      required:
        - type
        - image
      properties:
        type:
          type: string
          enum:
            - PORTRAIT_CODE
        image:
          $ref: '#/components/schemas/VectorImage'
      additionalProperties: false
    TicketbaiLandscapeCode:
      type: object
      required:
        - type
        - image
      properties:
        type:
          type: string
          enum:
            - LANDSCAPE_CODE
        image:
          $ref: '#/components/schemas/VectorImage'
      additionalProperties: false
    TransmissionFile:
      description: Archivo de transmisión que contiene los datos enviados o recibidos.
      type: string
      maxLength: 65535
    TicketbaiIssuer:
      description: Representación de la información de un emisor de TicketBAI (contribuyente).
      type: object
      required:
        - tax_number
        - legal_name
      properties:
        tax_number:
          description: |
            El NIF o número de identificación fiscal `tax_number` del contribuyente.
          oneOf:
            - $ref: '#/components/schemas/TicketbaiTaxNumber'
        legal_name:
          description: El nombre legal `legal_name` puede ser el apellido y nombre o razón social o denominación social completa del emisor de la factura.
          oneOf:
            - $ref: '#/components/schemas/ExtendedAlphaNumerical120'
      additionalProperties: false
    TicketbaiOtherIdentifier:
      description: Representación de otra identificación.
      type: object
      required:
        - id
        - type
        - country_code
      properties:
        id:
          $ref: '#/components/schemas/AlphaNumerical20'
        type:
          $ref: '#/components/schemas/TicketbaiIdentificationType'
        country_code:
          $ref: '#/components/schemas/CountryCode2'
      additionalProperties: false
    CorrectingInvoiceCode:
      description: |-
        Códigos de rectificación predefinidos de la normativa española que se exigen para las facturas `COMPLETAS`:
          - `"CORRECTION_1"` es una rectificación de factura basado en el artículo 80, apartados 1, 2 y 6, de la Ley del IVA.
          - `"CORRECTION_2"` es una rectificación de factura basado en el artículo 80.3 de la ley del IVA.
          - `"CORRECTION_3"` es una rectificación de factura basado en el artículo 80.4 de la Ley del IVA.
          - `"CORRECTION_4"` es una rectificación de factura por otras razones.
      type: string
      enum:
        - CORRECTION_1
        - CORRECTION_2
        - CORRECTION_3
        - CORRECTION_4
    TicketbaiInvoiceHeading:
      description: TBA
      type: object
      required:
        - head
        - date
      properties:
        head:
          $ref: '#/components/schemas/TicketbaiInvoiceHead'
        date:
          $ref: '#/components/schemas/DateFormat10'
      additionalProperties: false
    TicketbaiInvoiceHead:
      description: Representación de un número de factura y de una serie de facturas (opcional).
      type: object
      required:
        - number
      properties:
        series:
          $ref: '#/components/schemas/TicketbaiInvoiceIdentifier'
        number:
          $ref: '#/components/schemas/TicketbaiInvoiceIdentifier'
      additionalProperties: false
    TicketbaiIdentificationType:
      description: |-
        Tipos de identificación predefinidas por la legislación española:
          - `"02"` NIF-IVA
          - `"03"` Pasaporte
          - `"04"` Documento oficial de identificación expedido por el país o territorio de residencia
          - `"05"` Certificado de residencia
          - `"06"` Otro documento probatorio
      type: string
      enum:
        - '02'
        - '03'
        - '04'
        - '05'
        - '06'
    TicketbaiTaxNumber:
      description: El número de identificación fiscal (NIF) es una secuencia de 9 dígitos y/o letras mayúsculas.
      type: string
      pattern: '^(([A-Za-z][0-9]{7}[A-Za-z])|([0-9]{8}[A-Za-z])|([A-Za-z][0-9]{8}))$'
      minLength: 9
      maxLength: 9
      example: 00000006Y
    AlphaNumerical2:
      description: Cadena alfanumérica de máximo 2 caracteres.
      type: string
      pattern: '^( *[0-9A-Za-z.\-_/] *)*$'
      minLength: 1
      maxLength: 2
      example: 0a
    AlphaNumerical3:
      description: Cadena alfanumérica de máximo 3 caracteres.
      type: string
      pattern: '^( *[0-9A-Za-z.\-_/] *)*$'
      minLength: 1
      maxLength: 3
      example: 0a1
    AlphaNumerical13:
      description: Cadena alfanumérica de máximo 13 caracteres..
      type: string
      pattern: '^( *[0-9A-Za-z.\-_/] *)*$'
      minLength: 1
      maxLength: 13
      example: 0a1B2cD ...
    AlphaNumerical16:
      description: |
        Alpha-numerical string of maximal character length 16.
      type: string
      pattern: '^( *[0-9A-Za-z.\-_/] *)*$'
      minLength: 1
      maxLength: 16
      example: 0a1B2cD ...
    AlphaNumerical20:
      description: Cadena alfanumérica de máximo 20 caracteres.
      type: string
      pattern: '^( *[0-9A-Za-z.\-_/] *)*$'
      minLength: 1
      maxLength: 20
      example: 0a1B2cD ...
    AlphaNumerical30:
      description: Cadena alfanumérica de máximo 30 caracteres.
      type: string
      pattern: '^( *[0-9A-Za-z.\-_/] *)*$'
      minLength: 1
      maxLength: 30
      example: 0a1B2cD ...
    AlphaNumerical32:
      description: Cadena alfanumérica de máximo 32 caracteres.
      type: string
      pattern: '^( *[0-9A-Za-z.\-_/] *)*$'
      minLength: 1
      maxLength: 32
      example: 0a1B2cD ...
    AlphaNumerical100:
      description: Cadena alfanumérica de máximo 100 caracteres.
      type: string
      pattern: '^( *[0-9A-Za-z.\-_/] *)*$'
      minLength: 1
      maxLength: 100
      example: 0a1B2cD e3F45 ...
    AlphaNumerical120:
      description: Cadena alfanumérica de máximo 120 caracteres.
      type: string
      pattern: '^( *[0-9A-Za-z.\-_/] *)*$'
      minLength: 1
      maxLength: 120
      example: 0a1B2cD e3F45 ...
    ExtendedAlphaNumerical120:
      description: 'Cadena alfanumérica de máximo 120 caracteres, que incluye caracteres españoles.'
      type: string
      pattern: '^( *[0-9A-Za-zñÑáÁàÀéÉíÍïÏóÓòÒúÚüÜçÇ°ºª.,()\-_/] *)*$'
      minLength: 1
      maxLength: 120
      example: 0a1B2cD é3F45Ç ...
    AlphaNumerical250:
      description: Cadena alfanumérica de máximo 250 caracteres.
      type: string
      pattern: '^( *[0-9A-Za-z.\-_/] *)*$'
      minLength: 1
      maxLength: 250
      example: 0a1B2cD e3F45 67gH ...
    ExtendedAlphaNumerical250:
      description: Cadena alfanumérica de máximo 250 caracteres.
      type: string
      pattern: '^( *[0-9A-Za-zñÑáÁàÀéÉíÍïÏóÓòÒúÚüÜçÇ°ºª.,()\-_/] *)*$'
      minLength: 1
      maxLength: 250
      example: 0a1B2cD é3F45 Ç°ºª...
    ExtendedSpecialAlphaNumerical250:
      description: 'Cadena alfanumérica de máximo 250 caracteres, que incluye caracteres españoles.'
      type: string
      pattern: '^( *[0-9A-Za-zñÑáÁàÀéÉíÍïÏóÓòÒúÚüÜçÇ°ºª.,:"()¿?¡!\-_/] *)*$'
      minLength: 1
      maxLength: 250
      example: 0aÑá2cD?¡ é3F45Ç ...
    Numerical5:
      description: Número entero de longitud máxima 5.
      type: integer
      maxLength: 5
      example: 12345
    TimestampFormat19:
      description: 'Timestamp en `DD-MM-AAAA hh:mm:ss`.'
      type: string
      minLength: 19
      maxLength: 19
      example: '24-12-1992 15:35:01'
    DateFormat10:
      description: Formato de fecha `DD-MM-AAAA`.
      type: string
      minLength: 10
      maxLength: 10
      example: 24-12-1992
    DateFormat6:
      description: Formato de fecha DDMMYY.
      type: string
      minLength: 6
      maxLength: 6
      example: '241292'
    TimeFormat8:
      description: 'Formato de hora en hh:mm:ss.'
      type: string
      format: time
      minLength: 8
      maxLength: 8
      example: '21:00:00'
    UnsignedDecimal3p2:
      description: Representación de número decimal sin signo con posición pre-decimal de longitud máxima 3 y posición decimal de longitud 2.
      type: string
      pattern: '^\d{1,3}(\.\d{1,2})?$'
      example: '123.45'
    Decimal12p2:
      description: Representación del importe con posición predecimal de longitud máxima 12 y decimal de longitud 2.
      type: string
      pattern: '^(-)?\d{1,12}(\.\d{1,2})?$'
      example: '123456789012.34'
    Decimal12p8:
      description: Representación del importe con posición predecimal de longitud máxima 12 y decimal de longitud 8.
      type: string
      pattern: '^(-)?\d{1,12}(\.\d{1,8})?$'
      example: '123456789012.34567890'
    CountryCode2:
      description: 'Códigos de pais [ISO 3166-1 alpha-2](https://es.wikipedia.org/wiki/ISO_3166-1_alfa-2).'
      type: string
      enum:
        - AD
        - AE
        - AF
        - AG
        - AI
        - AL
        - AM
        - AO
        - AQ
        - AR
        - AS
        - AT
        - AU
        - AW
        - AX
        - AZ
        - BA
        - BB
        - BD
        - BE
        - BF
        - BG
        - BH
        - BI
        - BJ
        - BL
        - BM
        - BN
        - BO
        - BR
        - BS
        - BT
        - BV
        - BW
        - BY
        - BZ
        - CA
        - CC
        - CD
        - CF
        - CG
        - CH
        - CI
        - CK
        - CL
        - CM
        - CN
        - CO
        - CR
        - CU
        - CV
        - CW
        - CX
        - CY
        - CZ
        - DE
        - DJ
        - DK
        - DM
        - DO
        - DZ
        - EC
        - EE
        - EG
        - EH
        - ER
        - ES
        - ET
        - FI
        - FJ
        - FK
        - FM
        - FO
        - FR
        - GA
        - GB
        - GD
        - GE
        - GF
        - GG
        - GH
        - GI
        - GL
        - GM
        - GN
        - GP
        - GQ
        - GR
        - GS
        - GT
        - GU
        - GW
        - GY
        - HK
        - HM
        - HN
        - HR
        - HT
        - HU
        - ID
        - IE
        - IL
        - IM
        - IN
        - IO
        - IQ
        - IR
        - IS
        - IT
        - JE
        - JM
        - JO
        - JP
        - KE
        - KG
        - KH
        - KI
        - KM
        - KN
        - KP
        - KR
        - KW
        - KY
        - KZ
        - LA
        - LB
        - LC
        - LI
        - LK
        - LR
        - LS
        - LT
        - LU
        - LV
        - LY
        - MA
        - MC
        - MD
        - ME
        - MF
        - MG
        - MH
        - MK
        - ML
        - MM
        - MN
        - MO
        - MP
        - MQ
        - MR
        - MS
        - MT
        - MU
        - MV
        - MW
        - MX
        - MY
        - MZ
        - NA
        - NC
        - NE
        - NF
        - NG
        - NI
        - NL
        - 'NO'
        - NP
        - NR
        - NU
        - NZ
        - OM
        - PA
        - PE
        - PF
        - PG
        - PH
        - PK
        - PL
        - PM
        - PN
        - PR
        - PS
        - PT
        - PW
        - PY
        - QA
        - RE
        - RO
        - RS
        - RU
        - RW
        - SA
        - SB
        - SC
        - SD
        - SE
        - SG
        - SH
        - SI
        - SJ
        - SK
        - SL
        - SM
        - SN
        - SO
        - SR
        - SS
        - ST
        - SV
        - SX
        - SY
        - SZ
        - TC
        - TD
        - TF
        - TG
        - TH
        - TJ
        - TK
        - TL
        - TM
        - TN
        - TO
        - TR
        - TT
        - TV
        - TW
        - TZ
        - UA
        - UG
        - UM
        - US
        - UY
        - UZ
        - VA
        - VC
        - VE
        - VG
        - VI
        - VN
        - VU
        - WF
        - WS
        - YE
        - YT
        - ZA
        - ZM
        - ZW
    TicketbaiBooleanFlag:
      description: TBA
      type: string
      enum:
        - 'N'
        - S
      default: 'N'
    Certificate:
      description: 'Representación del par de claves criptográficas en formato PKCS12 o PEM. Por defecto, el dispositivo de firma utiliza un certificado de dispositivo gestionado por fiskaly. Es posible proporcionar un certificado de dispositivo externo opcional acorde a las instrucciones en la sección de la guía [Certificado de dispositivo opcional](/es/sign-es/optional_device_certificate). Un solo certificado puede incluirse en cada firmante.'
      discriminator:
        propertyName: type
        mapping:
          P12: '#/components/schemas/CertificateP12'
          PEM: '#/components/schemas/CertificatePEM'
      oneOf:
        - $ref: '#/components/schemas/CertificateP12'
        - $ref: '#/components/schemas/CertificatePEM'
    CertificateP12:
      description: "Archivo estándar de criptografía de clave pública versión 12 (PKCS12, P12) `binary` codificado en Base64 y la contraseña del arhcivo `password`. La contraseña es la cadena de texto configurada durante la creación del certificado de dispositivo.\r\n(Ver el paso 5 de [Certificado de dispositivo opcional](/es/sign-es/optional_device_certificate))."
      type: object
      required:
        - type
        - binary
        - password
      properties:
        type:
          type: string
          enum:
            - P12
        binary:
          $ref: '#/components/schemas/Base64EncodedBinary'
        password:
          $ref: '#/components/schemas/Password'
      additionalProperties: false
    CertificatePEM:
      description: "Par de claves PEM (Privacy-Enhanced mail) que consta de una clave de texto y una clave pública (Certificado)\r\n"
      type: object
      required:
        - type
        - key_pem
        - x509_pem
      properties:
        type:
          type: string
          enum:
            - PEM
        key_pem:
          $ref: '#/components/schemas/CertificateKeyPEM'
        x509_pem:
          $ref: '#/components/schemas/CertificateX509PEM'
      additionalProperties: false
    CertificateSerialNumber:
      description: 'El número de serie del certificado de dispositivo. Esta información debe ser registrada por el contribuyente acorde a [¿Cómo registro el certificado de dispositivo?](/es/sign-es/device_certificate#how-do-i-register-the-device-certificate).'
      oneOf:
        - $ref: '#/components/schemas/AlphaNumerical32'
    CertificateTimestamp:
      description: La fecha de vencimiento del certificado de dispositivo TicketBAI.
      oneOf:
        - $ref: '#/components/schemas/TimestampFormat19'
    CertificateKeyPEM:
      description: La clave privada basada en RSA codificada en PEM.
      oneOf:
        - $ref: '#/components/schemas/PrivacyEnhancedMailFormat'
    CertificateX509PEM:
      description: 'El certificado X.509 codificado en PEM, incluida la clave pública basada en RSA y los metadatos del certificado.'
      oneOf:
        - $ref: '#/components/schemas/PrivacyEnhancedMailFormat'
    TicketbaiDeviceCertificate:
      description: Representación de un certificado de dispositivo TicketBAI para un firmante.
      type: object
      required:
        - serial_number
        - expires_at
        - x509_pem
      properties:
        serial_number:
          $ref: '#/components/schemas/CertificateSerialNumber'
        expires_at:
          $ref: '#/components/schemas/CertificateTimestamp'
        x509_pem:
          $ref: '#/components/schemas/CertificateX509PEM'
      additionalProperties: false
    Territory:
      description: |
        El territorio del domicilio fiscal del contribuyente. Esto indicará si se aplica la normativa TicketBAI o Verifactu. Actualmente, SIGN ES admite las siguientes regiones territoriales:
          - `"ARABA"`          `"Araba/Álava (País Vasco)"`
          - `"BIZKAIA"`        `"Bizkaia/Vizcaya (País Vasco)"`
          - `"GIPUZKOA"`       `"Gipuzkoa/Guipúzcoa (País Vasco)"`
          - `"NAVARRE"`        `"Nafarroa/Navarra"`
          - `"CANARY_ISLANDS"` `"Islas Canarias"`
          - `"CEUTA"`          `"Ceuta"`
          - `"MELILLA"`        `"Melilla"`
          - `"SPAIN OTHER"`    `"Otro territorio nacional"`
      type: string
      enum:
        - ARABA
        - BIZKAIA
        - GIPUZKOA
        - NAVARRE
        - CANARY_ISLANDS
        - CEUTA
        - MELILLA
        - SPAIN_OTHER
    DeviceState:
      description: 'Cada dispositivo creado en el sistema se establecerá en el estado `ENABLED` (HABILITADO) y solo se puede establecer en `DISABLED` (DESHABILITADO), pero no al revés.'
      type: string
      enum:
        - ENABLED
        - DISABLED
    ClientState:
      description: 'Cada cliente en el sistema se establecerá en el estado `ENABLED` (HABILITADO) y solo se puede establecer como `DISABLED` (DESHABILITADO), pero no al revés.'
      type: string
      enum:
        - ENABLED
        - DISABLED
    ClientSigner:
      description: Representación de la información del dispositivo de firma para un cliente.
      type: object
      required:
        - id
      properties:
        id:
          $ref: '#/components/schemas/UniversallyUniqueIdentifierV4'
      additionalProperties: false
    SignerType:
      description: Cada certificado en el sistema puede ser del tipo `MANAGED` (provisto por fiskaly) or `EXTERNAL` (provisto por el contribuyente)
      type: string
      enum:
        - MANAGED
        - EXTERNAL
    SignerState:
      description: 'Cada firmante del sistema se establecerá inicialmente en el estado `ENABLED` (HABILITADO) y sólo podrá establecerse en `DISABLED` (DESHABILITADO) o `DEFECTIVE` (DEFECTUOSO) como estado final. El estado `DISABLED` sólo puede alcanzarse actualizando el estado del dispositivo a una versión desactivada. Un firmante sólo puede ser puesto en `DEFECTIVE` por el propio sistema SIGN ES si las validaciones internas determinan que el firmante ha alcanzado un estado inconsistente (por ejemplo, ha caducado el certificado de un dispositivo o ha cambiado la información del firmante).'
      type: string
      enum:
        - ENABLED
        - DISABLED
        - DEFECTIVE
    SignerCertificate:
      description: Detalles sobre el certificado de dispositivo TicketBAI utilizado de un firmante.
      oneOf:
        - $ref: '#/components/schemas/TicketbaiDeviceCertificate'
    InvoiceState:
      description: "Representa el estado de la factura. Por defecto, una factura creada tiene el estado `ISSUED` (EMITIDA). \r\n\r\nPara cancelar una factura, el estado debe ser `CANCELLED` (CANCELADA). El estado `CANCELLED` es el estado final de la factura.\r\n\r\nFacturas de tipo `EXTERNAL` tienen el estado `IMPORTED`, facturas de este tipo no podrán ser canceladas."
      type: string
      enum:
        - ISSUED
        - CANCELLED
        - IMPORTED
    Annotations:
      description: A list of unique annotations.
      type: array
      items:
        $ref: '#/components/schemas/Annotation'
      uniqueItems: true
      minItems: 1
      maxItems: 1
    Annotation:
      description: An `Annotation` adds additional data to an invoice that may be needed by different legislations for a successful transmission.
      type: object
      discriminator:
        propertyName: type
        mapping:
          INDIVIDUAL: '#/components/schemas/IndividualAnnotation'
          INCIDENT: '#/components/schemas/IncidentAnnotation'
      oneOf:
        - $ref: '#/components/schemas/IndividualAnnotation'
        - $ref: '#/components/schemas/IncidentAnnotation'
    IndividualAnnotation:
      description: |
        The transmission for `Individuals` in `Bizkaia` needs additional data. This data can be provided with an invoice issue request or through the `PATCH` endpoint.
      type: object
      required:
        - type
        - activity_code
      properties:
        type:
          type: string
          enum:
            - INDIVIDUAL
        activity_code:
          $ref: '#/components/schemas/ActivityCode'
        income_tax_amount:
          description: 'Importe de ingreso a computar en el IRPF, siempre que este sea diferente a la base imponible del IVA. Se debe indicar el importe como diferencia positiva o negativa respecto al ingreso del IRPF correspondiente a la factura que se está rectificando.'
          allOf:
            - $ref: '#/components/schemas/Decimal12p2'
        pay_collect:
          description: 'Identificador que especifica si se ha optado por el criterio de cobros y pagos. Para más información, ver [Agencia Tributaria: Preguntas frecuentes](https://sede.agenciatributaria.gob.es/Sede/iva/facturacion-registro/preguntas-frecuentes/cuestiones-especificas-criterio-cobros-pagos.html).'
          type: boolean
      additionalProperties: false
    IncidentAnnotation:
      description: 'En caso de que el envío del registro de facturación se haya visto afectado por algún tipo de incidencia técnica, es necesario marcarlo con la anotación de incidencia. Este dato debe facilitarse junto con la solicitud de creacion de la factura.'
      type: object
      required:
        - type
        - reason
      properties:
        type:
          type: string
          enum:
            - INCIDENT
        reason:
          $ref: '#/components/schemas/ExtendedAlphaNumerical120'
      additionalProperties: false
    ExportState:
      description: 'Representa el estado de la exportación. Por defecto, una exportación se crea en estado `REQUESTED` (SOLICITADA). En cuanto comienza la exportación, tendrá el estado `STARTED` (INICIADA). Una vez ha finalizado la exportación, se indica el estado `FINISHED`  (FINALIZADA) y está disponible para descarga. Cuando una exportación ha caducado, se encuentra en estado `EXPIRED`  (CADUCADA) y ya no podrá ser descargada. Si una exportación falla, por cualquier motivo, resulta en el estado `FAILED` (FALLIDA)'
      type: string
      enum:
        - REQUESTED
        - STARTED
        - FINISHED
        - EXPIRED
        - FAILED
    ActivityCode:
      description: Epígrafe IAE o código de actividad para el LROE 140 para personas físicas o entidades en régimen de atribución de rentas (ERAR) en Bizkaia.
      type: string
      pattern: '^[0-9.]{1,7}$'
      minLength: 1
      maxLength: 7
      example: '1234567'
    InvoiceNumber:
      $ref: '#/components/schemas/TicketbaiInvoiceIdentifier'
    InvoiceSeries:
      $ref: '#/components/schemas/TicketbaiInvoiceIdentifier'
    InvoiceQuantity:
      $ref: '#/components/schemas/Decimal12p8'
    InvoiceAmount:
      $ref: '#/components/schemas/Decimal12p2'
    InvoiceDetailedAmount:
      $ref: '#/components/schemas/Decimal12p8'
    InvoicePercentage:
      $ref: '#/components/schemas/UnsignedDecimal3p2'
    UniversallyUniqueIdentifierV4:
      description: |-
        Un identificador único universal versión 4 (UUIDv4), es una etiqueta empleada para identificar objetos de forma única en
        sistemas informáticos. La representación de UUIDs está definida dentro del [RFC 4122](https://www.rfc-editor.org/rfc/rfc4122).
      type: string
      format: uuid
      pattern: '[a-f0-9]{8}-?[a-f0-9]{4}-?4[a-f0-9]{3}-?[89ab][a-f0-9]{3}-?[a-f0-9]{12}'
      example: 1c81cb86-c2e8-4074-afc3-a0601b2bf063
      x-go-type: uuid.UUID
      x-go-type-import:
        name: uuid
        path: github.com/google/uuid
    PrivacyEnhancedMailFormat:
      description: Formato Privacy-Enhanced Mail (PEM) en texto simple
      type: string
      maxLength: 16384
    Password:
      description: Cadena de caracteres que contiene una contraseña en texto simple.
      type: string
      maxLength: 1024
    Metadata:
      description: |-
        Puede emplear este parámetro para adjuntar datos en formato clave/valor al objeto.  
        Los metadatos son útiles para almacenar datos estructurados que complementan el objeto.

        Se pueden adjuntar metadatos en los métodos de actualización de cada recurso. Si se incluye una clave con un valor vacío, se eliminará esa pareja clave/valor.

        Si se adjuntan metadatos a un objeto, estos serán devueltos en las respuestas a peticiones de ese objeto.

        **Nota**: Se pueden especificar hasta 20 claves, cada clave puede contener hasta 40 caracteres, y los valores pueden contener hasta 500 caracteres.
      type: object
      maxProperties: 20
      additionalProperties:
        type: string
        maxLength: 500
      example:
        my_property_1: '1234'
        my_property_2: 'https://my-internal-system/path/to/resource/1234'
    RefreshTokenAuthentication:
      description: Token de actualización basado en el esquema Bearer.
      type: object
      required:
        - refresh_token
      properties:
        refresh_token:
          $ref: '#/components/schemas/Bearer'
      additionalProperties: false
    ApiKeySecretAuthentication:
      description: Clave y secreto para autenticarse con la API.
      type: object
      required:
        - api_key
        - api_secret
      properties:
        api_key:
          $ref: '#/components/schemas/ApiKeyString'
        api_secret:
          $ref: '#/components/schemas/ApiSecretString'
      additionalProperties: false
    ApiKeyString:
      description: Clave de autenticación para la API.
      type: string
    ApiSecretString:
      description: Secreto de autenticación para la API.
      type: string
    Authentication:
      description: 'Representación del token para autenticarse mediante JWT que incluye el token de acceso (`access_token`), token de renovación (`refresh_token`), e identidad (`claims`).'
      type: object
      required:
        - access_token
        - refresh_token
        - claims
      properties:
        access_token:
          $ref: '#/components/schemas/Token'
        refresh_token:
          $ref: '#/components/schemas/Token'
        claims:
          $ref: '#/components/schemas/TokenClaims'
      additionalProperties: false
    Token:
      description: Representación de un token JWT en esquema Bearer.
      type: object
      required:
        - bearer
        - expires_at
        - expires_in
      properties:
        bearer:
          $ref: '#/components/schemas/Bearer'
        expires_at:
          $ref: '#/components/schemas/Timestamp'
        expires_in:
          description: 'Duración, en segundos.'
          type: integer
          format: int64
          example: 1577833200
      additionalProperties: false
    TokenClaims:
      description: Información acerca de identidad contenida dentro del token de acceso. Se emplea para extraer el ID de la organización asociada.
      type: object
      required:
        - environment
        - organization_id
      properties:
        environment:
          $ref: '#/components/schemas/Environment'
        organization_id:
          $ref: '#/components/schemas/UniversallyUniqueIdentifierV4'
      additionalProperties: false
    Environment:
      type: string
      enum:
        - TEST
        - LIVE
      example: TEST
    Timestamp:
      description: 'Representación de marca temporal, en [tiempo unix](https://es.wikipedia.org/wiki/Tiempo_Unix).'
      type: integer
      format: int64
      example: 1577833200
    Bearer:
      description: Esquema `Bearer` para el token JWT.
      type: string
    Binary:
      description: Representación de un archivo binario.
      type: string
      format: binary
    Base64EncodedBinary:
      description: Datos binarios codificados en Base64.
      type: string
      format: byte
      maxLength: 65536
    RasterImage:
      description: Representación de una imagen ráster (imagen de pixeles).
      type: object
      required:
        - data
        - format
        - measurements
      properties:
        data:
          $ref: '#/components/schemas/Base64EncodedBinary'
        format:
          $ref: '#/components/schemas/RasterImageFormat'
        measurements:
          $ref: '#/components/schemas/ImageMeasurements'
      additionalProperties: false
    RasterImageFormat:
      description: 'Representación de formatos de imagen ráster, en formato `Multipurpose Internet Mail Extension` (MIME).'
      type: string
      enum:
        - image/png
      x-enum-varnames:
        - PNG
    VectorImage:
      description: Representación de una imagen vectorial.
      type: object
      required:
        - data
        - format
        - measurements
      properties:
        data:
          $ref: '#/components/schemas/Base64EncodedBinary'
        format:
          $ref: '#/components/schemas/VectorImageFormat'
        measurements:
          $ref: '#/components/schemas/ImageMeasurements'
      additionalProperties: false
    VectorImageFormat:
      description: Representación de formatos de images vectoriales en formato `Multipurpose Internet Mail Extension` (MIME).
      type: string
      enum:
        - image/svg+xml
      x-enum-varnames:
        - SVG
    ImageMeasurements:
      description: 'Representación del tamaño de una imagen, incluyendo el ancho, alto y la unidad de medida.'
      type: object
      required:
        - height
        - width
        - unit
      properties:
        height:
          $ref: '#/components/schemas/MeasurementLength'
        width:
          $ref: '#/components/schemas/MeasurementLength'
        unit:
          $ref: '#/components/schemas/MeasurementUnit'
      additionalProperties: false
    MeasurementLength:
      description: Representación de un tamaño de medida.
      type: integer
      format: int
      example: 41
    MeasurementUnit:
      description: Representación de una unidad de medida.
      type: string
      enum:
        - px
        - mm
      x-enum-varnames:
        - Pixel
        - Millimeter
    Pagination:
      description: 'Representa los datos de paginación de un endpoint de listado. Si no se especifican, los resultados actuales son la última página.'
      type: object
      required:
        - next
        - token
        - limit
      properties:
        next:
          $ref: '#/components/schemas/PaginationNext'
        token:
          $ref: '#/components/schemas/PaginationToken'
        limit:
          $ref: '#/components/schemas/PaginationLimit'
    PaginationNext:
      description: 'Representa la URL de petition la siguiente página de resultados. La petición está compuesta por el recurso de listado, el token de paginación, y el límite de resultados a presentar.'
      allOf:
        - $ref: '#/components/schemas/UniformResourceIdentifier'
    PaginationLimit:
      description: Representa el límite de resultados por página para un endpoint de listado.
      type: integer
      minimum: 1
      maximum: 100
      default: 10
    PaginationToken:
      description: 'Representa el token de paginación, que se emplea como puntero hacia la siguiente página de resultados.'
      type: string
      pattern: '^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{4}|[A-Za-z0-9+/]{3}=|[A-Za-z0-9+/]{2}={2})$'
      maxLength: 1024
    UniformResourceIdentifier:
      description: Representa un identificador de recursos uniforme.
      type: string
    ByteSize:
      description: El tamaño en bytes de la carga útil.
      type: integer
      example: 1234
  securitySchemes:
    JWT:
      description: |-
        JSON Web Token (JWT) empleado para control de acceso y autorización.
        - Ejemplo de uso: `Bearer <JWT>`
        - Ejemplo de encabezado HTTP: `Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...`
      type: http
      scheme: bearer
      bearerFormat: JWT
